<input name="attr_dark_light" class="dark_light" type="hidden" value="Dark">
<div class="character_sheet">
    <div class="sheet-sticky">
        <button class="dark_light_button" type="action" name="act_dark_light_button"><span name="attr_dark_light"></span></button>
        <div class="info">
            <span> Session: </span> <span name="attr_session_number"></span>
        </div>
        <div class="info">
            <span> Time: </span> <span name="attr_time_day"></span> <span>/</span> <span name="attr_time_month"></span> <span>/</span> <span name="attr_time_year"></span>
        </div>
        <!-- <button type="action" name="act_test"> Test </button> -->
        <div class="resources">
            <span>TP</span>
            <input class="tp" name="attr_tp" type="number" value="0">
            <span>aD</span>
            <input class="ad" name="attr_ad" type="number" value="0">
            <span>AP</span>
            <input class="ap" name="attr_ap" type="number" value="0">
            <input class="optional_resource_name interaction_border" name="attr_optional_resource_name" type="text" placeholder="optional">
            <input class="optional_resource" name="attr_optional_resource" type="number" value="0">
        </div>
    </div>
    <div class="tooltip">
        <div class="tooltip_skill">
            <h6> <span name="attr_skill_sel"></span> </h6> <br>
            <span name="attr_skill_sel_val"></span>
        </div>
        <div class="tooltip_trait">
            <h6> <span name="attr_trait_name"></span> </h6> <br>
            <span name="attr_trait_talents"></span>
        </div>
        <div class="all_talents_selected tooltip_talent">
            <input name="attr_tal_sel"                  type="hidden"   value="Act">
            <input name="attr_tal_sel_traits"           type="hidden"   value="Hypocrite,Socialite">
            <input name="attr_tal_sel_rank"             type="hidden"   value="2">
            <input name="attr_tal_sel_base_short"       type="hidden"   value="none" class="blue_text">
            <input name="attr_tal_sel_base_short_text"  type="hidden"   value="none">
            <input name="attr_tal_sel_green1"           type="hidden"   value="Ability: Roleplay">
            <input name="attr_tal_sel_green2"           type="hidden"   value="Imitate">
            <input name="attr_tal_sel_green_text1"      type="hidden"   value="You can learn abilities based on the given category.">
            <input name="attr_tal_sel_green_text2"      type="hidden"   value="Imitate a person to gain some of their keywords.">
            <input name="attr_tal_sel_orange"           type="hidden"   value="none" class="orange_text">
            <input name="attr_tal_sel_orange_text"      type="hidden"   value="none" class="orange_descr">
            <input name="attr_tal_sel_red"              type="hidden"   value="none" class="red_text">
            <input name="attr_tal_sel_red_text"         type="hidden"   value="none">
            
            <div class="tal_sel_header">
                <h6> <span name="attr_tal_sel"></span> </h6>
                <h6> <span name="attr_tal_sel_rank"></span> </h6>
            </div>
            <span class="orange"                                    name="attr_tal_sel_traits"></span>
            <span class="blue"                                      name="attr_tal_sel_base_short"></span>
            <span class="talent_selected_text remove_blue"          name="attr_tal_sel_base_short_text"></span>
            <span class="green"                                     name="attr_tal_sel_green1"></span>
            <span class="talent_selected_text"                      name="attr_tal_sel_green_text1"></span>
            <span class="green"                                     name="attr_tal_sel_green2"></span>
            <span class="talent_selected_text"                      name="attr_tal_sel_green_text2"></span>
            <span class="orange_text remove_orange"                 name="attr_tal_sel_orange"></span>
            <span class="talent_selected_text remove_orange_descr"  name="attr_tal_sel_orange_text"></span>
            <span class="red remove_red"                            name="attr_tal_sel_red"></span>
            <span class="talent_selected_text remove_red"           name="attr_tal_sel_red_text"></span>
        </div>
    </div>
    <div class="header">
        <div class="tab-button" data-tab="core">Core</div>
        <div class="tab-button" data-tab="augments_traits">Augments/Traits</div>
        <div class="tab-button" data-tab="equipment">Equipment</div>
        <div class="tab-button active" data-tab="abilities">Abilities & Co</div>
        <div class="tab-button" data-tab="bio_info">Bio & Info</div>
    </div>
    <div class="body">
        <div class="tab-container" data-tab="core">
            <div>
                <div class="first_row">
                    <div class="surround top_left start">
                        <button class="begin_session" name="act_begin_session" type="action"> Begin session </button> 
                        <br>
                        <button class="begin_session" name="act_next_day" type="action">Next day</button>
                    </div>
                    <div class="surround health_area next">
                        <div class="border shield">
                            <h6>Shield</h6>
                            <input name="attr_shield" type="number" value="0">
                        </div>
                        <div>
                            <div class="border health">
                                <h6>HEALTH</h6>
                                <input name="attr_health" type="number" value="450">
                            </div>
                            <div class="bottom_part health_bot">
                                <button type="action" name="act_buy_health">+150</button>
                                <div class="border counter">
                                    <span name="attr_health_count"></span><span>/</span><span>13</span>
                                </div>
                            </div>
                        </div>
                        <div class="border max_health">
                            <h6>max. Health</h6>
                            <input name="attr_max_health" type="number" value="450">
                        </div>
                    </div>
                    <div class="surround level_area end">
                        <div class="current_level">
                            <span>Level</span>&nbsp;<span name="attr_level"></span>
                        </div>
                        <div>
                            <input name="attr_level"                type="hidden"   value="1" class="level">
                            <div class="level_block level1 level2 level3 level4 level5 level6"></div>
                            <div class="level_block level2 level3 level4 level5 level6"></div>
                            <div class="level_block level3 level4 level5 level6"></div>
                            <div class="level_block level4 level5 level6"></div>
                            <div class="level_block level5 level6"></div>
                            <div class="level_block level6"></div>
                        </div>
                        <div class="xp_area">
                            <span>XP: </span><span name="attr_xp"></span><span>/</span><span name="attr_needed_xp"></span>
                            <button type="action" name="act_buy_xp" title="Pay 4 TP to gain 4 XP">Buy XP</button>
                        </div>
                    </div>
                </div>
                <div class="second_row">
                    <div class="start">
                        <div class="fight">
                            <div class="fight_top">
                                <span name="attr_weapon_name"></span>
                                <div class='octagon'>
                                    <div class='inner'>
                                        <button type="roll" class="attack_btn attack_button" value="/em deals [[round(@{w_damage} * @{weapon_style}/100 * @{hands}/100)]] damage!"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="weapon_skills">
                                <div class="talent_category_skill">
                                    <input type="hidden" class="sheet-toggle" name="attr_w_s1_flag" />
                                    <button type="action" name="act_show_w_s1" class="sheet-toggle">
                                        <span class="sheet-checked">✓</span>
                                    </button>
                                    <select class="skill" name="attr_w_s1">
                                        <option value="">                       Skill 1                 </option>
                                        <option value="acceleration">           Acceleration            </option>
                                        <option value="amplification">          Amplification           </option>
                                        <option value="balance">                Balance                 </option>
                                        <option value="enhancement">            Enhancement             </option>
                                        <option value="perseverance">           Perseverance            </option>
                                        <option value="precision">              Precision               </option>
                                        <option value="resolve">                Resolve                 </option>
                                        <option value="retention">              Retention               </option>
                                        <option value="adaptive_helmet">        Adaptive helmet         </option>
                                        <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                        <option value="archangel_staff">        Archangel staff         </option>
                                        <option value="bloodthirster">          Bloodthirster           </option>
                                        <option value="blue_buff">              Blue buff               </option>
                                        <option value="bramble_vest">           Bramble vest            </option>
                                        <option value="crownguard">             Crownguard              </option>
                                        <option value="death_blade">            Death blade             </option>
                                        <option value="dragons_claw">           Dragons claw            </option>
                                        <option value="edge_of_night">          Edge of night           </option>
                                        <option value="even_shroud">            Even shroud             </option>
                                        <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                        <option value="giant_slayer">           Giant slayer            </option>
                                        <option value="guard_breaker">          Guard breaker           </option>
                                        <option value="hand_of_justice">        Hand of justice         </option>
                                        <option value="hextech_gunblade">       Hextech gunblade        </option>
                                        <option value="infinity_edge">          Infinity edge           </option>
                                        <option value="ionic_spark">            Ionic spark             </option>
                                        <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                        <option value="last_whisper">           Last whisper            </option>
                                        <option value="morellonomicon">         Morellonomicon          </option>
                                        <option value="nashors_tooth">          Nashors tooth           </option>
                                        <option value="protectors_vow">         Protectors vow          </option>
                                        <option value="quicksilver">            Quicksilver             </option>
                                        <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                        <option value="rageblade">              Rageblade               </option>
                                        <option value="red_buff">               Red buff                </option>
                                        <option value="redemption">             Redemption              </option>
                                        <option value="runaans_hurricane">      Runaans hurricane       </option>
                                        <option value="spear_of_shojin">        Spear of shojin         </option>
                                        <option value="statikk_shiv">           Statikk shiv            </option>
                                        <option value="steadfast_heart">        Steadfast heart         </option>
                                        <option value="steraks_gage">           Steraks gage            </option>
                                        <option value="sunfire_cape">           Sunfire cape            </option>
                                        <option value="titans_resolve">         Titans resolve          </option>
                                        <option value="warmogs_armor">          Warmogs armor           </option>
                                    </select>
                                </div>
                                <div class="talent_category_skill">
                                    <input type="hidden" class="sheet-toggle" name="attr_w_s2_flag" />
                                    <button type="action" name="act_show_w_s2" class="sheet-toggle">
                                        <span class="sheet-checked">✓</span>
                                    </button>
                                    <select class="skill" name="attr_w_s2">
                                        <option value="">                       Skill 2                 </option>
                                        <option value="acceleration">           Acceleration            </option>
                                        <option value="amplification">          Amplification           </option>
                                        <option value="balance">                Balance                 </option>
                                        <option value="enhancement">            Enhancement             </option>
                                        <option value="perseverance">           Perseverance            </option>
                                        <option value="precision">              Precision               </option>
                                        <option value="resolve">                Resolve                 </option>
                                        <option value="retention">              Retention               </option>
                                        <option value="adaptive_helmet">        Adaptive helmet         </option>
                                        <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                        <option value="archangel_staff">        Archangel staff         </option>
                                        <option value="bloodthirster">          Bloodthirster           </option>
                                        <option value="blue_buff">              Blue buff               </option>
                                        <option value="bramble_vest">           Bramble vest            </option>
                                        <option value="crownguard">             Crownguard              </option>
                                        <option value="death_blade">            Death blade             </option>
                                        <option value="dragons_claw">           Dragons claw            </option>
                                        <option value="edge_of_night">          Edge of night           </option>
                                        <option value="even_shroud">            Even shroud             </option>
                                        <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                        <option value="giant_slayer">           Giant slayer            </option>
                                        <option value="guard_breaker">          Guard breaker           </option>
                                        <option value="hand_of_justice">        Hand of justice         </option>
                                        <option value="hextech_gunblade">       Hextech gunblade        </option>
                                        <option value="infinity_edge">          Infinity edge           </option>
                                        <option value="ionic_spark">            Ionic spark             </option>
                                        <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                        <option value="last_whisper">           Last whisper            </option>
                                        <option value="morellonomicon">         Morellonomicon          </option>
                                        <option value="nashors_tooth">          Nashors tooth           </option>
                                        <option value="protectors_vow">         Protectors vow          </option>
                                        <option value="quicksilver">            Quicksilver             </option>
                                        <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                        <option value="rageblade">              Rageblade               </option>
                                        <option value="red_buff">               Red buff                </option>
                                        <option value="redemption">             Redemption              </option>
                                        <option value="runaans_hurricane">      Runaans hurricane       </option>
                                        <option value="spear_of_shojin">        Spear of shojin         </option>
                                        <option value="statikk_shiv">           Statikk shiv            </option>
                                        <option value="steadfast_heart">        Steadfast heart         </option>
                                        <option value="steraks_gage">           Steraks gage            </option>
                                        <option value="sunfire_cape">           Sunfire cape            </option>
                                        <option value="titans_resolve">         Titans resolve          </option>
                                        <option value="warmogs_armor">          Warmogs armor           </option>
                                    </select>
                                </div>
                                <div class="talent_category_skill">
                                    <input type="hidden" class="sheet-toggle" name="attr_w_s3_flag" />
                                    <button type="action" name="act_show_w_s3" class="sheet-toggle">
                                        <span class="sheet-checked">✓</span>
                                    </button>
                                    <select class="skill" name="attr_w_s3">
                                        <option value="">                       Skill 3                 </option>
                                        <option value="acceleration">           Acceleration            </option>
                                        <option value="amplification">          Amplification           </option>
                                        <option value="balance">                Balance                 </option>
                                        <option value="enhancement">            Enhancement             </option>
                                        <option value="perseverance">           Perseverance            </option>
                                        <option value="precision">              Precision               </option>
                                        <option value="resolve">                Resolve                 </option>
                                        <option value="retention">              Retention               </option>
                                        <option value="adaptive_helmet">        Adaptive helmet         </option>
                                        <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                        <option value="archangel_staff">        Archangel staff         </option>
                                        <option value="bloodthirster">          Bloodthirster           </option>
                                        <option value="blue_buff">              Blue buff               </option>
                                        <option value="bramble_vest">           Bramble vest            </option>
                                        <option value="crownguard">             Crownguard              </option>
                                        <option value="death_blade">            Death blade             </option>
                                        <option value="dragons_claw">           Dragons claw            </option>
                                        <option value="edge_of_night">          Edge of night           </option>
                                        <option value="even_shroud">            Even shroud             </option>
                                        <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                        <option value="giant_slayer">           Giant slayer            </option>
                                        <option value="guard_breaker">          Guard breaker           </option>
                                        <option value="hand_of_justice">        Hand of justice         </option>
                                        <option value="hextech_gunblade">       Hextech gunblade        </option>
                                        <option value="infinity_edge">          Infinity edge           </option>
                                        <option value="ionic_spark">            Ionic spark             </option>
                                        <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                        <option value="last_whisper">           Last whisper            </option>
                                        <option value="morellonomicon">         Morellonomicon          </option>
                                        <option value="nashors_tooth">          Nashors tooth           </option>
                                        <option value="protectors_vow">         Protectors vow          </option>
                                        <option value="quicksilver">            Quicksilver             </option>
                                        <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                        <option value="rageblade">              Rageblade               </option>
                                        <option value="red_buff">               Red buff                </option>
                                        <option value="redemption">             Redemption              </option>
                                        <option value="runaans_hurricane">      Runaans hurricane       </option>
                                        <option value="spear_of_shojin">        Spear of shojin         </option>
                                        <option value="statikk_shiv">           Statikk shiv            </option>
                                        <option value="steadfast_heart">        Steadfast heart         </option>
                                        <option value="steraks_gage">           Steraks gage            </option>
                                        <option value="sunfire_cape">           Sunfire cape            </option>
                                        <option value="titans_resolve">         Titans resolve          </option>
                                        <option value="warmogs_armor">          Warmogs armor           </option>
                                    </select>
                                </div>
                            </div>
                                
                            <div class="separator"></div>

                            <div class="new_tab_buttons">
                                <div class="tab_button_defense active"  data-tab_defense="block"> Block </div>
                                <div class="tab_button_defense"         data-tab_defense="dodge"> Dodge </div>
                            </div>
                            <div class="new_tab_content">
                                <div class="new_tab_container tab_container_defense active" data-tab_defense="block">
                                    <div class="block_physical">
                                        <h6> PHYSICAL </h6>
                                        <span name="attr_block_physical"></span>
                                    </div>
                                    <div class="block_magical">
                                        <h6> MAGICAL </h6>
                                        <span name="attr_block_magical"></span>
                                    </div>
                                </div>
                                <div class="new_tab_container tab_container_defense" data-tab_defense="dodge">
                                    <div class="dodge_physical">
                                        <h6> PHYSICAL </h6>
                                        <span name="attr_dodge_physical"></span>
                                    </div>
                                    <div class="dodge_magical">
                                        <h6> MAGICAL </h6>
                                        <span name="attr_dodge_magical"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="weapon_elemental">
                                <span> Elemental </span>
                                <input type="hidden" class="sheet-toggle" name="attr_w_elemental_flag" />
                                <button type="action" name="act_show_w_elemental" class="sheet-toggle">
                                    <span class="sheet-checked">✓</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="second_row_middle_part next" style="margin-top: 0;">
                        <div class="resilience_area">
                            <div class="resilience start">
                                <div class="border resilience_top">
                                    <h6>STAMINA</h6>
                                    <span name="attr_stamina"></span>
                                </div>
                                <div class="border bottom_part resilience_bot">
                                    <input name="attr_stamina_base" placeholder="Base" type="number" value="2">
                                    <span> + </span>
                                    <input name="attr_stamina_bonus" placeholder="Skill" type="number">
                                </div>
                            </div>
                            <div class="resilience end">
                                <div class="border resilience_top">
                                    <h6>ENDURANCE</h6>
                                    <span name="attr_endurance"></span>    
                                </div>
                                <div class="border bottom_part resilience_bot">
                                    <button type="action" name="act_buy_endurance">+1</button>
                                    <div class="border resilience_count">
                                        <span name="attr_endurance_count"></span><span>/</span><span>13</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="agility_area border">
                            <h6> AGILITY </h6>
                            <div class="agility">
                                <div class="agility_stat start">
                                    <div class="agility_top border">
                                        <h6> Feet </h6>
                                        <span class="value" name="attr_feet"></span>
                                    </div>
                                    <div class="agility_bottom border">
                                        <input name="attr_feet_base" placeholder="Base" type="number" value="2">
                                        <span> + </span>
                                        <input name="attr_feet_bonus" placeholder="Skill" type="number">
                                    </div>
                                </div>
                                <div class="agility_stat end">
                                    <div class="agility_top border">
                                        <h6> Hands </h6>
                                        <span class="value" name="attr_hands"></span>
                                    </div>
                                    <div class="agility_bottom border">
                                        <input name="attr_hands_base" type="hidden" value="100">
                                        <div class="flex">
                                            <span name="attr_hands_base"></span>
                                        </div>
                                        <span> * </span>
                                        <div class="flex">
                                            <input name="attr_hands_bonus" placeholder="Skill" type="number">
                                            <span> % </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="end">
                        <div class="consumables border">
                            <h6> CONSUMABLES </h6>
                            <div class="flex">
                                <div class="consumables_left start">
                                    <input class="interaction_border" placeholder="Magic Enhancement" type="text" value="">
                                    <textarea class="border" placeholder="Effect"></textarea>
                                    <div class="food border">
                                        <h6> Food </h6>
                                        <input name="attr_food_1" type="hidden" value="">
                                        <input name="attr_food_2" type="hidden" value="">
                                        <input name="attr_food_3" type="hidden" value="">
                                        <select class="food_select" name="attr_food_1">
                                            <option value=""> Food 1 </option>
                                            <option value="animal_products"> Animal Products </option>
                                            <option value="fruits"> Fruits </option>
                                            <option value="grain"> Grain </option>
                                            <option value="liquid"> Liquid </option>
                                            <option value="meat_animal"> Meat (Animal) </option>
                                            <option value="meat_human_pnaevaru"> Meat (Human & Pnaevaru) </option>
                                            <option value="meat_monster"> Meat (Monster) </option>
                                            <option value="monster_products"> Monster Products </option>
                                            <option value="vegetable"> Vegetable </option>
                                        </select>
                                        <select class="food_select" name="attr_food_2">
                                            <option value=""> Food 2 </option>
                                            <option value="animal_products"> Animal Products </option>
                                            <option value="fruits"> Fruits </option>
                                            <option value="grain"> Grain </option>
                                            <option value="liquid"> Liquid </option>
                                            <option value="meat_animal"> Meat (Animal) </option>
                                            <option value="meat_human_pnaevaru"> Meat (Human & Pnaevaru) </option>
                                            <option value="meat_monster"> Meat (Monster) </option>
                                            <option value="monster_products"> Monster Products </option>
                                            <option value="vegetable"> Vegetable </option>
                                        </select>
                                        <select class="food_select" name="attr_food_3">
                                            <option value=""> Food 3 </option>
                                            <option value="animal_products"> Animal Products </option>
                                            <option value="fruits"> Fruits </option>
                                            <option value="grain"> Grain </option>
                                            <option value="liquid"> Liquid </option>
                                            <option value="meat_animal"> Meat (Animal) </option>
                                            <option value="meat_human_pnaevaru"> Meat (Human & Pnaevaru) </option>
                                            <option value="meat_monster"> Meat (Monster) </option>
                                            <option value="monster_products"> Monster Products </option>
                                            <option value="vegetable"> Vegetable </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="border drink end">
                                    <h6> Drink </h6>
                                    <div class="flex">
                                        <button type="action" name="act_drink_minus">-</button>
                                        <button type="action" name="act_drink_plus">+</button>
                                    </div>
                                    <div class="scala">
                                        <input class="drink_counter" name="attr_drink_counter" type="hidden" value="0">
                                        <div class="scala_13"></div>
                                        <div class="scala_13 scala_12"></div>
                                        <div class="scala_13 scala_12 scala_11"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6 scala_5"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6 scala_5 scala_4"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6 scala_5 scala_4 scala_3"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6 scala_5 scala_4 scala_3 scala_2"></div>
                                        <div class="scala_13 scala_12 scala_11 scala_10 scala_9 scala_8 scala_7 scala_6 scala_5 scala_4 scala_3 scala_2 scala_1"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="third_row">
                    <div class="stat_area">
                        <div class="surround stat start">
                            <div class="stat_top">
                                <div class="border stat_content">
                                    <h6>Strength</h6>
                                    <span name="attr_strength"></span>
                                </div>
                                <div class="border stat_bonus">
                                    <span>+</span><input name="attr_strength_bonus" style="width: 20px;" type="number" value="0" />
                                </div>
                            </div>
                            <div class="bottom_part stat_bot">
                                <button type="action" name="act_buy_strength">+3</button>
                                <div class="border counter">
                                    <span name="attr_strength_count"></span><span>/</span><span>13</span>
                                </div>
                            </div>
                        </div>
                        <div class="surround stat next">
                            <div class="stat_top">
                                <div class="border stat_content">
                                    <h6> Power </h6>
                                    <span name="attr_power"></span>
                                    <p class="percent_sign">%</p>
                                </div>
                                <div class="border stat_bonus">
                                    <span>+</span><input name="attr_power_bonus" style="width: 20px;" type="number" value="0" />
                                </div>
                            </div>
                            <div class="bottom_part stat_bot">
                                <button type="action" name="act_buy_power">+5</button>
                                <div class="border counter">
                                    <span name="attr_power_count"></span><span>/</span><span>13</span>
                                </div>
                            </div>
                        </div>
                        <div class="surround stat next">
                            <div class="stat_top">
                                <div class="border stat_content">
                                    <h6> Style </h6>
                                    <span name="attr_weapon_style"></span>
                                    <p class="percent_sign">%</p>
                                </div>
                                <div class="border stat_bonus">
                                    <span>+</span><input name="attr_weapon_style_bonus" style="width: 20px;" type="number" value="0" />
                                </div>
                            </div>
                            <div class="bottom_part stat_bot">
                                <button type="action" name="act_buy_weapon_style">+5</button>
                                <div class="border counter">
                                    <span name="attr_weapon_style_count"></span><span>/</span><span name="attr_weapon_style_max"></span>
                                </div>
                            </div>
                        </div>
                        <div class="surround stat next">
                            <div class="stat_top">
                                <div class="border stat_content">
                                    <h6> Reflex </h6>
                                    <span name="attr_reflex"></span>
                                </div>
                                <div class="border stat_bonus">
                                    <span>+</span><input name="attr_reflex_bonus" style="width: 20px;" type="number" value="0" />
                                </div>
                            </div>
                            <div class="bottom_part stat_bot">
                                <button type="action" name="act_buy_reflex">+7</button>
                                <div class="border counter">
                                    <span name="attr_reflex_count"></span><span>/</span><span>13</span>
                                </div>
                            </div>
                        </div>
                        <div class="surround stat end">
                            <div class="stat_top">
                                <div class="border stat_content">
                                    <h6> Resistance </h6>
                                    <span name="attr_resistance"></span>
                                    <p class="percent_sign">%</p>
                                </div>
                                <div class="border stat_bonus">
                                    <span>+</span><input name="attr_resistance_bonus" style="width: 20px;" type="number" value="0" />
                                </div>
                            </div>
                            <div class="bottom_part stat_bot">
                                <button type="action" name="act_buy_resistance">+<span name="attr_resistance_plus"></span></button>
                                <div class="border counter">
                                    <span name="attr_resistance_count"></span><span>/</span><span name="attr_resistance_max"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fourth_row">
                    <div class="talent_header">
                        <div class="talent_tab-button active" data-talent_tab="talents_your">Your talents</div>
                        <div class="talent_tab-button" data-talent_tab="talents_all">All talents</div>
                    </div>
                    <div class="talent_body">
                        <div class="talent_tab-container active" data-talent_tab="talents_your">
                            <div class="talents_area">
                                <div class="surround talents_category start">
                                    <div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_p_s1_flag" />
                                            <button type="action" name="act_show_p_s1" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_p_s1">
                                                <option value="">                       Skill 1                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_p_s2_flag" />
                                            <button type="action" name="act_show_p_s2" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_p_s2">
                                                <option value="">                       Skill 2                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_p_s3_flag" />
                                            <button type="action" name="act_show_p_s3" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_p_s3">
                                                <option value="">                       Skill 3                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border talent_top">
                                        <h6> Physical </h6>
                                        <button name="act_roll_physical" type="roll" value="/me rolled Physical \n**@{physical}**\n/roll 1d100cs<[[floor(@{physical_crit})]]cf>[[floor(@{physical})]]">
                                            <span class="margin_left" name="attr_physical"></span><span class="margin_right">%</span>
                                        </button>
                                        <div class="talent_percent">
                                            <button name="act_buy_physical" type="action">+2.5</button>
                                            <div class="border counter">
                                                <span name="attr_physical_count"></span><span>/</span><span>13</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="talent_critical">
                                        <h6> Crit Chance: </h6> &nbsp&nbsp&nbsp
                                        <span class="talent_crit_text" name="attr_physical_crit"></span><span class="talent_crit_text">%</span>&nbsp
                                        <button class="talent_plus" name="act_buy_physical_crit" type="action">+4</button>
                                        <div class="border counter">
                                            <span name="attr_physical_crit_count"></span><span>/</span><span>13</span>
                                        </div>
                                    </div>
                                    <table>
                                        <tr>
                                            <th></th>
                                            <th> Name </th>
                                            <th style="width: 40px;"> Level </th>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_p1_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_p1">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="assassin">           Assassin            </option>
                                                    <option value="brawler">            Brawler             </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="claws_fangs">        Claws & Fangs       </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>
                                                    <option value="craft">              Craft               </option>
                                                    <option value="flight">             Flight              </option>
                                                    <option value="forge">              Forge               </option>
                                                    <option value="furtiveness">        Furtiveness         </option>
                                                    <option value="knight">             Knight              </option>
                                                    <option value="lancer">             Lancer              </option>
                                                    <option value="marksman">           Marksman            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mine">               Mine                </option>
                                                    <option value="mold">               Mold                </option>
                                                    <option value="movement">           Movement            </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="parkour">            Parkour             </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="sail">               Sail                </option>
                                                    <option value="soldier">            Soldier             </option>
                                                    <option value="swim">               Swim                </option>
                                                    <option value="thief">              Thief               </option>
                                                    <option value="throw_catch">        Throw & Catch       </option>
                                                    <option value="tinker">             Tinker              </option>
                                                    <option value="vanguard">           Vanguard            </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_p1" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_p1_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_p1" type="roll" value="/me used @{p1} \n/roll 1d20cs>[[17-@{p1_level}]]cf<[[17-@{p1_level}]]+@{p1_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_p2_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_p2">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="assassin">           Assassin            </option>
                                                    <option value="brawler">            Brawler             </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="claws_fangs">        Claws & Fangs       </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>
                                                    <option value="craft">              Craft               </option>
                                                    <option value="flight">             Flight              </option>
                                                    <option value="forge">              Forge               </option>
                                                    <option value="furtiveness">        Furtiveness         </option>
                                                    <option value="knight">             Knight              </option>
                                                    <option value="lancer">             Lancer              </option>
                                                    <option value="marksman">           Marksman            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mine">               Mine                </option>
                                                    <option value="mold">               Mold                </option>
                                                    <option value="movement">           Movement            </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="parkour">            Parkour             </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="sail">               Sail                </option>
                                                    <option value="soldier">            Soldier             </option>
                                                    <option value="swim">               Swim                </option>
                                                    <option value="thief">              Thief               </option>
                                                    <option value="throw_catch">        Throw & Catch       </option>
                                                    <option value="tinker">             Tinker              </option>
                                                    <option value="vanguard">           Vanguard            </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_p2" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_p2_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_p2" type="roll" value="/me used @{p2} \n/roll 1d20cs>[[17-@{p2_level}]]cf<[[17-@{p2_level}]]+@{p2_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_p3_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_p3">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="assassin">           Assassin            </option>
                                                    <option value="brawler">            Brawler             </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="claws_fangs">        Claws & Fangs       </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>
                                                    <option value="craft">              Craft               </option>
                                                    <option value="flight">             Flight              </option>
                                                    <option value="forge">              Forge               </option>
                                                    <option value="furtiveness">        Furtiveness         </option>
                                                    <option value="knight">             Knight              </option>
                                                    <option value="lancer">             Lancer              </option>
                                                    <option value="marksman">           Marksman            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mine">               Mine                </option>
                                                    <option value="mold">               Mold                </option>
                                                    <option value="movement">           Movement            </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="parkour">            Parkour             </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="sail">               Sail                </option>
                                                    <option value="soldier">            Soldier             </option>
                                                    <option value="swim">               Swim                </option>
                                                    <option value="thief">              Thief               </option>
                                                    <option value="throw_catch">        Throw & Catch       </option>
                                                    <option value="tinker">             Tinker              </option>
                                                    <option value="vanguard">           Vanguard            </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_p3" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_p3_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_p3" type="roll" value="/me used @{p3} \n/roll 1d20cs>[[17-@{p3_level}]]cf<[[17-@{p3_level}]]+@{p3_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_p4_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_p4">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="assassin">           Assassin            </option>
                                                    <option value="brawler">            Brawler             </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="claws_fangs">        Claws & Fangs       </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>
                                                    <option value="craft">              Craft               </option>
                                                    <option value="flight">             Flight              </option>
                                                    <option value="forge">              Forge               </option>
                                                    <option value="furtiveness">        Furtiveness         </option>
                                                    <option value="knight">             Knight              </option>
                                                    <option value="lancer">             Lancer              </option>
                                                    <option value="marksman">           Marksman            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mine">               Mine                </option>
                                                    <option value="mold">               Mold                </option>
                                                    <option value="movement">           Movement            </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="parkour">            Parkour             </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="sail">               Sail                </option>
                                                    <option value="soldier">            Soldier             </option>
                                                    <option value="swim">               Swim                </option>
                                                    <option value="thief">              Thief               </option>
                                                    <option value="throw_catch">        Throw & Catch       </option>
                                                    <option value="tinker">             Tinker              </option>
                                                    <option value="vanguard">           Vanguard            </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_p4" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_p4_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_p4" type="roll" value="/me used @{p4} \n/roll 1d20cs>[[17-@{p4_level}]]cf<[[17-@{p4_level}]]+@{p4_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_p5_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_p5">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="assassin">           Assassin            </option>
                                                    <option value="brawler">            Brawler             </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="claws_fangs">        Claws & Fangs       </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>
                                                    <option value="craft">              Craft               </option>
                                                    <option value="flight">             Flight              </option>
                                                    <option value="forge">              Forge               </option>
                                                    <option value="furtiveness">        Furtiveness         </option>
                                                    <option value="knight">             Knight              </option>
                                                    <option value="lancer">             Lancer              </option>
                                                    <option value="marksman">           Marksman            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mine">               Mine                </option>
                                                    <option value="mold">               Mold                </option>
                                                    <option value="movement">           Movement            </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="parkour">            Parkour             </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="sail">               Sail                </option>
                                                    <option value="soldier">            Soldier             </option>
                                                    <option value="swim">               Swim                </option>
                                                    <option value="thief">              Thief               </option>
                                                    <option value="throw_catch">        Throw & Catch       </option>
                                                    <option value="tinker">             Tinker              </option>
                                                    <option value="vanguard">           Vanguard            </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_p5" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_p5_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_p5" type="roll" value="/me used @{p5} \n/roll 1d20cs>[[17-@{p5_level}]]cf<[[17-@{p5_level}]]+@{p5_level}"></button> 
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="surround talents_category next">
                                    <div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_m_s1_flag" />
                                            <button type="action" name="act_show_m_s1" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_m_s1">
                                                <option value="">                       Skill 1                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_m_s2_flag" />
                                            <button type="action" name="act_show_m_s2" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_m_s2">
                                                <option value="">                       Skill 2                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_m_s3_flag" />
                                            <button type="action" name="act_show_m_s3" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_m_s3">
                                                <option value="">                       Skill 3                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border talent_top">
                                        <h6> Mental </h6>
                                        <button name="act_roll_mental" type="roll" value="/me rolled Mental \n/roll 1d100cs<[[floor(@{mental_crit})]]cf>[[floor(@{mental})]]">
                                            <span class="margin_left" name="attr_mental"></span><span class="margin_right">%</span>
                                        </button>
                                        <div class="talent_percent">
                                            <button name="act_buy_mental" type="action">+2.5</button>
                                            <div class="border counter">
                                                <span name="attr_mental_count"></span><span>/</span><span>13</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="talent_critical">
                                        <h6> Crit Chance: </h6> &nbsp&nbsp&nbsp
                                        <span class="talent_crit_text" name="attr_mental_crit"></span><span class="talent_crit_text">%</span>&nbsp
                                        <button class="talent_plus" name="act_buy_mental_crit" type="action">+4</button>
                                        <div class="border counter">
                                            <span name="attr_mental_crit_count"></span><span>/</span><span>13</span>
                                        </div>
                                    </div>
                                    <table>
                                        <tr>
                                            <th></th>
                                            <th> Name </th>
                                            <th style="width: 40px;"> Level </th>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_m1_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_m1">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="adaptation">         Adaptation          </option>
                                                    <option value="art">                Art                 </option>
                                                    <option value="awareness">          Awareness           </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="brew">               Brew                </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                    <option value="cook">               Cook                </option>
                                                    <option value="fabled">             Fabled              </option>
                                                    <option value="fauna">              Fauna               </option>
                                                    <option value="flora">              Flora               </option>
                                                    <option value="herbs">              Herbs               </option>
                                                    <option value="maledicti">          Maledicti           </option>
                                                    <option value="martial_arts">       Martial Arts        </option>
                                                    <option value="materials">          Materials           </option>
                                                    <option value="medicine">           Medicine            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mystic">             Mystic              </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="stasi_voli">         Stasi Voli          </option>
                                                    <option value="tactics">            Tactics             </option>
                                                    <option value="tools">              Tools               </option>
                                                    <option value="vocabulary">         Vocabulary          </option>
                                                    <option value="weaponist">          Weaponist           </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_m1" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_m1_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_m1" type="roll" value="/me used @{m1} \n/roll 1d20cs>[[17-@{m1_level}]]cf<[[17-@{m1_level}]]+@{m1_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_m2_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_m2">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="adaptation">         Adaptation          </option>
                                                    <option value="art">                Art                 </option>
                                                    <option value="awareness">          Awareness           </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="brew">               Brew                </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                    <option value="cook">               Cook                </option>
                                                    <option value="fabled">             Fabled              </option>
                                                    <option value="fauna">              Fauna               </option>
                                                    <option value="flora">              Flora               </option>
                                                    <option value="herbs">              Herbs               </option>
                                                    <option value="maledicti">          Maledicti           </option>
                                                    <option value="martial_arts">       Martial Arts        </option>
                                                    <option value="materials">          Materials           </option>
                                                    <option value="medicine">           Medicine            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mystic">             Mystic              </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="stasi_voli">         Stasi Voli          </option>
                                                    <option value="tactics">            Tactics             </option>
                                                    <option value="tools">              Tools               </option>
                                                    <option value="vocabulary">         Vocabulary          </option>
                                                    <option value="weaponist">          Weaponist           </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_m2" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_m2_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_m2" type="roll" value="/me used @{m2} \n/roll 1d20cs>[[17-@{m2_level}]]cf<[[17-@{m2_level}]]+@{m2_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_m3_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_m3">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="adaptation">         Adaptation          </option>
                                                    <option value="art">                Art                 </option>
                                                    <option value="awareness">          Awareness           </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="brew">               Brew                </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                    <option value="cook">               Cook                </option>
                                                    <option value="fabled">             Fabled              </option>
                                                    <option value="fauna">              Fauna               </option>
                                                    <option value="flora">              Flora               </option>
                                                    <option value="herbs">              Herbs               </option>
                                                    <option value="maledicti">          Maledicti           </option>
                                                    <option value="martial_arts">       Martial Arts        </option>
                                                    <option value="materials">          Materials           </option>
                                                    <option value="medicine">           Medicine            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mystic">             Mystic              </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="stasi_voli">         Stasi Voli          </option>
                                                    <option value="tactics">            Tactics             </option>
                                                    <option value="tools">              Tools               </option>
                                                    <option value="vocabulary">         Vocabulary          </option>
                                                    <option value="weaponist">          Weaponist           </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_m3" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_m3_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_m3" type="roll" value="/me used @{m3} \n/roll 1d20cs>[[17-@{m3_level}]]cf<[[17-@{m3_level}]]+@{m3_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_m4_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_m4">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="adaptation">         Adaptation          </option>
                                                    <option value="art">                Art                 </option>
                                                    <option value="awareness">          Awareness           </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="brew">               Brew                </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                    <option value="cook">               Cook                </option>
                                                    <option value="fabled">             Fabled              </option>
                                                    <option value="fauna">              Fauna               </option>
                                                    <option value="flora">              Flora               </option>
                                                    <option value="herbs">              Herbs               </option>
                                                    <option value="maledicti">          Maledicti           </option>
                                                    <option value="martial_arts">       Martial Arts        </option>
                                                    <option value="materials">          Materials           </option>
                                                    <option value="medicine">           Medicine            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mystic">             Mystic              </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="stasi_voli">         Stasi Voli          </option>
                                                    <option value="tactics">            Tactics             </option>
                                                    <option value="tools">              Tools               </option>
                                                    <option value="vocabulary">         Vocabulary          </option>
                                                    <option value="weaponist">          Weaponist           </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_m4" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_m4_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_m4" type="roll" value="/me used @{m4} \n/roll 1d20cs>[[17-@{m4_level}]]cf<[[17-@{m4_level}]]+@{m4_level}"></button> 
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="talent_short"> 
                                                <span class="talent_rank" name="attr_m5_rank"></span> 
                                            </td>
                                            <td class="talent_long"> 
                                                <select class="talent_name" name="attr_m5">
                                                    <option value="na">                 Select talent       </option>
                                                    <option value="adaptation">         Adaptation          </option>
                                                    <option value="art">                Art                 </option>
                                                    <option value="awareness">          Awareness           </option>
                                                    <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                    <option value="brew">               Brew                </option>
                                                    <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                    <option value="cook">               Cook                </option>
                                                    <option value="fabled">             Fabled              </option>
                                                    <option value="fauna">              Fauna               </option>
                                                    <option value="flora">              Flora               </option>
                                                    <option value="herbs">              Herbs               </option>
                                                    <option value="maledicti">          Maledicti           </option>
                                                    <option value="martial_arts">       Martial Arts        </option>
                                                    <option value="materials">          Materials           </option>
                                                    <option value="medicine">           Medicine            </option>
                                                    <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                    <option value="mystic">             Mystic              </option>
                                                    <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                    <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                    <option value="occupation">         Occupation          </option>
                                                    <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                    <option value="stasi_voli">         Stasi Voli          </option>
                                                    <option value="tactics">            Tactics             </option>
                                                    <option value="tools">              Tools               </option>
                                                    <option value="vocabulary">         Vocabulary          </option>
                                                    <option value="weaponist">          Weaponist           </option>
                                                </select> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <input class="talent_color" name="attr_m5" type="hidden" value="na">
                                                <input class="talent_level" style="width: 40px;" name="attr_m5_level" type="number" /> 
                                            </td>
                                            <td class="talent_very_short"> 
                                                <button class="talent_button" name="roll_m5" type="roll" value="/me used @{m5} \n/roll 1d20cs>[[17-@{m5_level}]]cf<[[17-@{m5_level}]]+@{m5_level}"></button> 
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="surround talents_category end">
                                    <div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_s_s1_flag" />
                                            <button type="action" name="act_show_s_s1" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_s_s1">
                                                <option value="">                       Skill 1                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_s_s2_flag" />
                                            <button type="action" name="act_show_s_s2" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_s_s2">
                                                <option value="">                       Skill 2                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                        <div class="talent_category_skill">
                                            <input type="hidden" class="sheet-toggle" name="attr_s_s3_flag" />
                                            <button type="action" name="act_show_s_s3" class="sheet-toggle">
                                                <span class="sheet-checked">✓</span>
                                            </button>
                                            <select class="skill" name="attr_s_s3">
                                                <option value="">                       Skill 3                 </option>
                                                <option value="acceleration">           Acceleration            </option>
                                                <option value="amplification">          Amplification           </option>
                                                <option value="balance">                Balance                 </option>
                                                <option value="enhancement">            Enhancement             </option>
                                                <option value="perseverance">           Perseverance            </option>
                                                <option value="precision">              Precision               </option>
                                                <option value="resolve">                Resolve                 </option>
                                                <option value="retention">              Retention               </option>
                                                <option value="adaptive_helmet">        Adaptive helmet         </option>
                                                <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                                <option value="archangel_staff">        Archangel staff         </option>
                                                <option value="bloodthirster">          Bloodthirster           </option>
                                                <option value="blue_buff">              Blue buff               </option>
                                                <option value="bramble_vest">           Bramble vest            </option>
                                                <option value="crownguard">             Crownguard              </option>
                                                <option value="death_blade">            Death blade             </option>
                                                <option value="dragons_claw">           Dragons claw            </option>
                                                <option value="edge_of_night">          Edge of night           </option>
                                                <option value="even_shroud">            Even shroud             </option>
                                                <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                                <option value="giant_slayer">           Giant slayer            </option>
                                                <option value="guard_breaker">          Guard breaker           </option>
                                                <option value="hand_of_justice">        Hand of justice         </option>
                                                <option value="hextech_gunblade">       Hextech gunblade        </option>
                                                <option value="infinity_edge">          Infinity edge           </option>
                                                <option value="ionic_spark">            Ionic spark             </option>
                                                <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                                <option value="last_whisper">           Last whisper            </option>
                                                <option value="morellonomicon">         Morellonomicon          </option>
                                                <option value="nashors_tooth">          Nashors tooth           </option>
                                                <option value="protectors_vow">         Protectors vow          </option>
                                                <option value="quicksilver">            Quicksilver             </option>
                                                <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                                <option value="rageblade">              Rageblade               </option>
                                                <option value="red_buff">               Red buff                </option>
                                                <option value="redemption">             Redemption              </option>
                                                <option value="runaans_hurricane">      Runaans hurricane       </option>
                                                <option value="spear_of_shojin">        Spear of shojin         </option>
                                                <option value="statikk_shiv">           Statikk shiv            </option>
                                                <option value="steadfast_heart">        Steadfast heart         </option>
                                                <option value="steraks_gage">           Steraks gage            </option>
                                                <option value="sunfire_cape">           Sunfire cape            </option>
                                                <option value="titans_resolve">         Titans resolve          </option>
                                                <option value="warmogs_armor">          Warmogs armor           </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border talent_top">
                                        <h6> Social </h6>
                                        <button name="act_roll_social" type="roll" value="/me rolled Social \n/roll 1d100cs<[[floor(@{social_crit})]]cf>[[floor(@{social})]]">
                                            <span class="margin_left" name="attr_social"></span><span class="margin_right">%</span>
                                        </button>
                                        <div class="talent_percent">
                                            <button name="act_buy_social" type="action">+2.5</button>
                                            <div class="border counter">
                                                <span name="attr_social_count"></span><span>/</span><span>13</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="talent_critical">
                                        <h6> Crit Chance: </h6> &nbsp&nbsp&nbsp
                                        <span class="talent_crit_text" name="attr_social_crit"></span><span class="talent_crit_text">%</span>&nbsp
                                        <button class="talent_plus" name="act_buy_social_crit" type="action">+4</button>
                                        <div class="border counter">
                                            <span name="attr_social_crit_count"></span><span>/</span><span>13</span>
                                        </div>
                                    </div>
                                    <div>
                                        <table>
                                            <tr>
                                                <th></th>
                                                <th> Name </th>
                                                <th style="width: 40px;"> Level </th>
                                            </tr>
                                            <tr>
                                                <td class="talent_short"> 
                                                    <span class="talent_rank" name="attr_s1_rank"></span> 
                                                </td>
                                                <td class="talent_long"> 
                                                    <select class="talent_name" name="attr_s1">
                                                        <option value="na">                 Select talent       </option>
                                                        <option value="act">                Act                 </option>
                                                        <option value="animal_handling">    Animal Handling     </option>
                                                        <option value="appearance">         Appearance          </option>
                                                        <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                        <option value="cavalry">            Cavalry             </option>
                                                        <option value="charisma">           Charisma            </option>
                                                        <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                        <option value="diplomacy">          Diplomacy           </option>
                                                        <option value="expression">         Expression          </option>
                                                        <option value="humor">              Humor               </option>
                                                        <option value="language">           Language            </option>
                                                        <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                        <option value="music">              Music               </option>
                                                        <option value="noble">              Noble               </option>
                                                        <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                        <option value="nurse">              Nurse               </option>
                                                        <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                        <option value="occupation">         Occupation          </option>
                                                        <option value="pnaevaru">           Pnaevaru            </option>
                                                        <option value="perception">         Perception          </option>
                                                        <option value="profile">            Profile             </option>
                                                        <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                        <option value="self_control">       Self-Control        </option>
                                                        <option value="teach">              Teach               </option>
                                                        <option value="tribal">             Tribal              </option>
                                                    </select> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <input class="talent_color" name="attr_s1" type="hidden" value="na">
                                                    <input class="talent_level" style="width: 40px;" name="attr_s1_level" type="number" /> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <button class="talent_button" name="roll_s1" type="roll" value="/me used @{s1} \n/roll 1d20cs>[[17-@{s1_level}]]cf<[[17-@{s1_level}]]+@{s1_level}"></button> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="talent_short"> 
                                                    <span class="talent_rank" name="attr_s2_rank"></span> 
                                                </td>
                                                <td class="talent_long"> 
                                                    <select class="talent_name" name="attr_s2">
                                                        <option value="na">                 Select talent       </option>
                                                        <option value="act">                Act                 </option>
                                                        <option value="animal_handling">    Animal Handling     </option>
                                                        <option value="appearance">         Appearance          </option>
                                                        <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                        <option value="cavalry">            Cavalry             </option>
                                                        <option value="charisma">           Charisma            </option>
                                                        <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                        <option value="diplomacy">          Diplomacy           </option>
                                                        <option value="expression">         Expression          </option>
                                                        <option value="humor">              Humor               </option>
                                                        <option value="language">           Language            </option>
                                                        <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                        <option value="music">              Music               </option>
                                                        <option value="noble">              Noble               </option>
                                                        <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                        <option value="nurse">              Nurse               </option>
                                                        <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                        <option value="occupation">         Occupation          </option>
                                                        <option value="pnaevaru">           Pnaevaru            </option>
                                                        <option value="perception">         Perception          </option>
                                                        <option value="profile">            Profile             </option>
                                                        <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                        <option value="self_control">       Self-Control        </option>
                                                        <option value="teach">              Teach               </option>
                                                        <option value="tribal">             Tribal              </option>
                                                    </select> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <input class="talent_color" name="attr_s2" type="hidden" value="na">
                                                    <input class="talent_level" style="width: 40px;" name="attr_s2_level" type="number" /> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <button class="talent_button" name="roll_s2" type="roll" value="/me used @{s2} \n/roll 1d20cs>[[17-@{s2_level}]]cf<[[17-@{s2_level}]]+@{s2_level}"></button> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="talent_short"> 
                                                    <span class="talent_rank" name="attr_s3_rank"></span> 
                                                </td>
                                                <td class="talent_long"> 
                                                    <select class="talent_name" name="attr_s3">
                                                        <option value="na">                 Select talent       </option>
                                                        <option value="act">                Act                 </option>
                                                        <option value="animal_handling">    Animal Handling     </option>
                                                        <option value="appearance">         Appearance          </option>
                                                        <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                        <option value="cavalry">            Cavalry             </option>
                                                        <option value="charisma">           Charisma            </option>
                                                        <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                        <option value="diplomacy">          Diplomacy           </option>
                                                        <option value="expression">         Expression          </option>
                                                        <option value="humor">              Humor               </option>
                                                        <option value="language">           Language            </option>
                                                        <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                        <option value="music">              Music               </option>
                                                        <option value="noble">              Noble               </option>
                                                        <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                        <option value="nurse">              Nurse               </option>
                                                        <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                        <option value="occupation">         Occupation          </option>
                                                        <option value="pnaevaru">           Pnaevaru            </option>
                                                        <option value="perception">         Perception          </option>
                                                        <option value="profile">            Profile             </option>
                                                        <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                        <option value="self_control">       Self-Control        </option>
                                                        <option value="teach">              Teach               </option>
                                                        <option value="tribal">             Tribal              </option>
                                                    </select> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <input class="talent_color" name="attr_s3" type="hidden" value="na">
                                                    <input class="talent_level" style="width: 40px;" name="attr_s3_level" type="number" /> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <button class="talent_button" name="roll_s3" type="roll" value="/me used @{s3} \n/roll 1d20cs>[[17-@{s3_level}]]cf<[[17-@{s3_level}]]+@{s3_level}"></button> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="talent_short"> 
                                                    <span class="talent_rank" name="attr_s4_rank"></span> 
                                                </td>
                                                <td class="talent_long"> 
                                                    <select class="talent_name" name="attr_s4">
                                                        <option value="na">                 Select talent       </option>
                                                        <option value="act">                Act                 </option>
                                                        <option value="animal_handling">    Animal Handling     </option>
                                                        <option value="appearance">         Appearance          </option>
                                                        <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                        <option value="cavalry">            Cavalry             </option>
                                                        <option value="charisma">           Charisma            </option>
                                                        <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                        <option value="diplomacy">          Diplomacy           </option>
                                                        <option value="expression">         Expression          </option>
                                                        <option value="humor">              Humor               </option>
                                                        <option value="language">           Language            </option>
                                                        <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                        <option value="music">              Music               </option>
                                                        <option value="noble">              Noble               </option>
                                                        <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                        <option value="nurse">              Nurse               </option>
                                                        <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                        <option value="occupation">         Occupation          </option>
                                                        <option value="pnaevaru">           Pnaevaru            </option>
                                                        <option value="perception">         Perception          </option>
                                                        <option value="profile">            Profile             </option>
                                                        <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                        <option value="self_control">       Self-Control        </option>
                                                        <option value="teach">              Teach               </option>
                                                        <option value="tribal">             Tribal              </option>
                                                    </select> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <input class="talent_color" name="attr_s4" type="hidden" value="na">
                                                    <input class="talent_level" style="width: 40px;" name="attr_s4_level" type="number" /> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <button class="talent_button" name="roll_s4" type="roll" value="/me used @{s4} \n/roll 1d20cs>[[17-@{s4_level}]]cf<[[17-@{s4_level}]]+@{s4_level}"></button> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="talent_short"> 
                                                    <span class="talent_rank" name="attr_s5_rank"></span> 
                                                </td>
                                                <td class="talent_long"> 
                                                    <select class="talent_name" name="attr_s5">
                                                        <option value="na">                 Select talent       </option>
                                                        <option value="act">                Act                 </option>
                                                        <option value="animal_handling">    Animal Handling     </option>
                                                        <option value="appearance">         Appearance          </option>
                                                        <option value="pnaevaru_breath">    Breath (Pnaevaru)   </option>
                                                        <option value="cavalry">            Cavalry             </option>
                                                        <option value="charisma">           Charisma            </option>
                                                        <option value="pnaevaru_cogium">    Cogium (Pnaevaru)   </option>    
                                                        <option value="diplomacy">          Diplomacy           </option>
                                                        <option value="expression">         Expression          </option>
                                                        <option value="humor">              Humor               </option>
                                                        <option value="language">           Language            </option>
                                                        <option value="pnaevaru_might">     Might (Pnaevaru)    </option>
                                                        <option value="music">              Music               </option>
                                                        <option value="noble">              Noble               </option>
                                                        <option value="pnaevaru_nullify">   Nullify (Pnaevaru)  </option>
                                                        <option value="nurse">              Nurse               </option>
                                                        <option value="pnaevaru_oblige">    Oblige (Pnaevaru)   </option>
                                                        <option value="occupation">         Occupation          </option>
                                                        <option value="pnaevaru">           Pnaevaru            </option>
                                                        <option value="perception">         Perception          </option>
                                                        <option value="profile">            Profile             </option>
                                                        <option value="pnaevaru_radiance">  Radiance (Pnaevaru) </option>
                                                        <option value="self_control">       Self-Control        </option>
                                                        <option value="teach">              Teach               </option>
                                                        <option value="tribal">             Tribal              </option>
                                                    </select> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <input class="talent_color" name="attr_s5" type="hidden" value="na">
                                                    <input class="talent_level" style="width: 40px;" name="attr_s5_level" type="number" /> 
                                                </td>
                                                <td class="talent_very_short"> 
                                                    <button class="talent_button" name="roll_s5" type="roll" value="/me used @{s5} \n/roll 1d20cs>[[17-@{s5_level}]]cf<[[17-@{s5_level}]]+@{s5_level}"></button> 
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="talent_tab-container" data-talent_tab="talents_all">
                            <div class="all_talents_area">
                                <div class="surround start">
                                    <table>
                                        <tr>
                                            <td><button type="action" name="act_act">Act</button></td>
                                            <td><button type="action" name="act_fabled">Fabled</button></td>
                                            <td><button type="action" name="act_mine">Mine</button></td>
                                            <td><button type="action" name="act_profile">Profile</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_adaptation">Adaptation</button></td>
                                            <td><button type="action" name="act_fauna">Fauna</button></td>
                                            <td><button type="action" name="act_mold">Mold</button></td>
                                            <td><button type="action" name="act_sail">Sail</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_animal_handling">Animal Handling</button></td>
                                            <td><button type="action" name="act_flight">Flight</button></td>
                                            <td><button type="action" name="act_movement">Movement</button></td>
                                            <td><button type="action" name="act_self_control">Self-Control</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_appearance">Appearance</button></td>
                                            <td><button type="action" name="act_flora">Flora</button></td>
                                            <td><button type="action" name="act_music">Music</button></td>
                                            <td><button type="action" name="act_soldier">Soldier</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_art">Art</button></td>
                                            <td><button type="action" name="act_forge">Forge</button></td>
                                            <td><button type="action" name="act_mystic">Mystic</button></td>
                                            <td><button type="action" name="act_stasi_voli">Stasi Voli</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_assassin">Assassin</button></td>
                                            <td><button type="action" name="act_furtiveness">Furtiveness</button></td>
                                            <td><button type="action" name="act_noble">Noble</button></td>
                                            <td><button type="action" name="act_swim">Swim</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_awareness">Awareness</button></td>
                                            <td><button type="action" name="act_herbs">Herbs</button></td>
                                            <td><button type="action" name="act_nurse">Nurse</button></td>
                                            <td><button type="action" name="act_tactics">Tactics</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_brawler">Brawler</button></td>
                                            <td><button type="action" name="act_humor">Humor</button></td>
                                            <td><button type="action" name="act_occupation">Occupation</button></td>
                                            <td><button type="action" name="act_teach">Teach</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_brew">Brew</button></td>
                                            <td><button type="action" name="act_knight">Knight</button></td>
                                            <td><button type="action" name="act_parkour">Parkour</button></td>
                                            <td><button type="action" name="act_thief">Thief</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_cavalry">Cavalry</button></td>
                                            <td><button type="action" name="act_lancer">Lancer</button></td>
                                            <td><button type="action" name="act_perception">Perception</button></td>
                                            <td><button type="action" name="act_throw_catch">Throw & Catch</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_charisma">Charisma</button></td>
                                            <td><button type="action" name="act_language">Language</button></td>
                                            <td><button type="action" name="act_pnaevaru_breath">Pnaevaru: Breath</button></td>
                                            <td><button type="action" name="act_tinker">Tinker</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_claws_fangs">Claws & Fangs</button></td>
                                            <td><button type="action" name="act_maledicti">Maledicti</button></td>
                                            <td><button type="action" name="act_pnaevaru_cogium">Pnaevaru: Cogium</button></td>
                                            <td><button type="action" name="act_tools">Tools</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_cook">Cook</button></td>
                                            <td><button type="action" name="act_marksman">Marksman</button></td>
                                            <td><button type="action" name="act_pnaevaru_might">Pnaevaru: Might</button></td>
                                            <td><button type="action" name="act_tribal">Tribal</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_craft">Craft</button></td>
                                            <td><button type="action" name="act_martial_arts">Martial Arts</button></td>
                                            <td><button type="action" name="act_pnaevaru_nullify">Pnaevaru: Nullify</button></td>
                                            <td><button type="action" name="act_vanguard">Vanguard</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_diplomacy">Diplomacy</button></td>
                                            <td><button type="action" name="act_materials">Materials</button></td>
                                            <td><button type="action" name="act_pnaevaru_oblige">Pnaevaru: Oblige</button></td>
                                            <td><button type="action" name="act_vocabulary">Vocabulary</button></td>
                                        </tr>
                                        <tr>
                                            <td><button type="action" name="act_expression">Expression</button></td>
                                            <td><button type="action" name="act_medicine">Medicine</button></td>
                                            <td><button type="action" name="act_pnaevaru_radiance">Pnaevaru: Radiance</button></td>
                                            <td><button type="action" name="act_weaponist">Weaponist</button></td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="surround fit_width end">
                                    <div class="all_talents_selected border">
                                        <div class="tal_sel_header">
                                            <h6> <span name="attr_tal_sel"></span> </h6>
                                            <h6> <span name="attr_tal_sel_rank"></span> </h6>
                                        </div>
                                        <input name="attr_tal_sel"                  type="hidden"   value="Act">
                                        <input name="attr_tal_sel_traits"           type="hidden"   value="Hypocrite,Socialite">
                                        <input name="attr_tal_sel_rank"             type="hidden"   value="2">
                                        <input name="attr_tal_sel_base_short"       type="hidden"   value="none" class="blue_text">
                                        <input name="attr_tal_sel_base_short_text"  type="hidden"   value="none">
                                        <input name="attr_tal_sel_green1"           type="hidden"   value="Ability: Roleplay">
                                        <input name="attr_tal_sel_green2"           type="hidden"   value="Imitate">
                                        <input name="attr_tal_sel_green_text1"      type="hidden"   value="You can learn abilities based on the given category.">
                                        <input name="attr_tal_sel_green_text2"      type="hidden"   value="Imitate a person to gain some of their keywords.">
                                        <input name="attr_tal_sel_orange"           type="hidden"   value="none" class="orange_text">
                                        <input name="attr_tal_sel_orange_text"      type="hidden"   value="none" class="orange_descr">
                                        <input name="attr_tal_sel_red"              type="hidden"   value="none" class="red_text">
                                        <input name="attr_tal_sel_red_text"         type="hidden"   value="none">
                                        
                                        <span class="orange"                                    name="attr_tal_sel_traits"></span>
                                        <span class="blue"                                      name="attr_tal_sel_base_short"></span>
                                        <span class="talent_selected_text remove_blue"          name="attr_tal_sel_base_short_text"></span>
                                        <span class="green"                                     name="attr_tal_sel_green1"></span>
                                        <span class="talent_selected_text"                      name="attr_tal_sel_green_text1"></span>
                                        <span class="green"                                     name="attr_tal_sel_green2"></span>
                                        <span class="talent_selected_text"                      name="attr_tal_sel_green_text2"></span>
                                        <span class="orange_text remove_orange"                 name="attr_tal_sel_orange"></span>
                                        <span class="talent_selected_text remove_orange_descr"  name="attr_tal_sel_orange_text"></span>
                                        <span class="red remove_red"                            name="attr_tal_sel_red"></span>
                                        <span class="talent_selected_text remove_red"           name="attr_tal_sel_red_text"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="skill_rules" type="roll" value="&{template:default} {{name=Skill rules}} {{Three talents +1 \n Two talents +1 and one talent +2 \n One talent +3}}"> Skill rules </button>
                <!-- <span> AP Fragments: </span> <span name="attr_ap_fragments"></span> <br>
                <span> Negative Crit Chance: </span> <span name="attr_negative_crit_chance"></span> <span>%</span> <br>
                <span> Health Regeneration: </span> <span name="attr_health_reg_percent"></span> <span>%</span> -->
            </div>
        </div>
        <div class="tab-container" data-tab="augments_traits">
            <div class="traits_area">
                <div class="augments start">
                    <h6> AUGMENTS </h6>
                    <input class="interaction_border" name="attr_augment_1_title" placeholder="Enter title" type="text">
                    <textarea class="border" name="attr_augment_1_description" style="width: 94%;" placeholder="Enter description of first augment"></textarea>
                    <input class="interaction_border" name="attr_augment_2_title" placeholder="Enter title" type="text">
                    <textarea class="border" name="attr_augment_2_description" style="width: 94%;" placeholder="Enter description of second augment"></textarea>
                    <input class="interaction_border" name="attr_augment_3_title" placeholder="Enter title" type="text">
                    <textarea class="border" name="attr_augment_3_description" style="width: 94%;" placeholder="Enter description of third augment"></textarea>
                    <select class="bonus_trait border" name="attr_bonus_trait_1">
                        <option value="na">             Bonus trait     </option>
                        <option value="adventurer">     Adventurer      </option>
                        <option value="ambitious">      Ambitious       </option>
                        <option value="benevolent">     Benevolent      </option>
                        <option value="blacksmith">     Blacksmith      </option>
                        <option value="caretaker">      Caretaker       </option>
                        <option value="cartograph">     Cartograph      </option>
                        <option value="chaotic">        Chaotic         </option>
                        <option value="corrupt">        Corrupt         </option>
                        <option value="druid">          Druid           </option>
                        <option value="evil">           Evil            </option>
                        <option value="expert">         Expert          </option>
                        <option value="forecaster">     Forecaster      </option>
                        <option value="hypocrite">      Hypocrite       </option>
                        <option value="idol">           Idol            </option>
                        <option value="inquisitive">    Inquisitive     </option>
                        <option value="lawful">         Lawful          </option>
                        <option value="magus">          Magus           </option>
                        <option value="mastermind">     Mastermind      </option>
                        <option value="pioneer">        Pioneer         </option>
                        <option value="prejudice">      Prejudice       </option>
                        <option value="pride">          Pride           </option>
                        <option value="race_human">     Race:Human      </option>
                        <option value="race_maledicti"> Race:Maledicti  </option>
                        <option value="race_pnaevaru">  Race:Pnaevaru   <option>
                        <option value="socialite">      Socialite       </option>
                        <option value="specialist">     Specialist      </option>
                        <option value="tradesman">      Tradesman       </option>
                        <option value="wanderer">       Wanderer        </option>
                        <option value="weapons_master"> Weapons:MASTER  </option>
                    </select>
                    <select class="bonus_trait border" name="attr_bonus_trait_2">
                        <option value="na">             Bonus trait     </option>
                        <option value="adventurer">     Adventurer      </option>
                        <option value="ambitious">      Ambitious       </option>
                        <option value="benevolent">     Benevolent      </option>
                        <option value="blacksmith">     Blacksmith      </option>
                        <option value="caretaker">      Caretaker       </option>
                        <option value="cartograph">     Cartograph      </option>
                        <option value="chaotic">        Chaotic         </option>
                        <option value="corrupt">        Corrupt         </option>
                        <option value="druid">          Druid           </option>
                        <option value="evil">           Evil            </option>
                        <option value="expert">         Expert          </option>
                        <option value="forecaster">     Forecaster      </option>
                        <option value="hypocrite">      Hypocrite       </option>
                        <option value="idol">           Idol            </option>
                        <option value="inquisitive">    Inquisitive     </option>
                        <option value="lawful">         Lawful          </option>
                        <option value="magus">          Magus           </option>
                        <option value="mastermind">     Mastermind      </option>
                        <option value="pioneer">        Pioneer         </option>
                        <option value="prejudice">      Prejudice       </option>
                        <option value="pride">          Pride           </option>
                        <option value="race_human">     Race:Human      </option>
                        <option value="race_maledicti"> Race:Maledicti  </option>
                        <option value="race_pnaevaru">  Race:Pnaevaru   <option>
                        <option value="socialite">      Socialite       </option>
                        <option value="specialist">     Specialist      </option>
                        <option value="tradesman">      Tradesman       </option>
                        <option value="wanderer">       Wanderer        </option>
                        <option value="weapons_master"> Weapons:MASTER  </option>
                    </select>
                    <select class="bonus_trait border" name="attr_bonus_trait_3">
                        <option value="na">             Bonus trait     </option>
                        <option value="adventurer">     Adventurer      </option>
                        <option value="ambitious">      Ambitious       </option>
                        <option value="benevolent">     Benevolent      </option>
                        <option value="blacksmith">     Blacksmith      </option>
                        <option value="caretaker">      Caretaker       </option>
                        <option value="cartograph">     Cartograph      </option>
                        <option value="chaotic">        Chaotic         </option>
                        <option value="corrupt">        Corrupt         </option>
                        <option value="druid">          Druid           </option>
                        <option value="evil">           Evil            </option>
                        <option value="expert">         Expert          </option>
                        <option value="forecaster">     Forecaster      </option>
                        <option value="hypocrite">      Hypocrite       </option>
                        <option value="idol">           Idol            </option>
                        <option value="inquisitive">    Inquisitive     </option>
                        <option value="lawful">         Lawful          </option>
                        <option value="magus">          Magus           </option>
                        <option value="mastermind">     Mastermind      </option>
                        <option value="pioneer">        Pioneer         </option>
                        <option value="prejudice">      Prejudice       </option>
                        <option value="pride">          Pride           </option>
                        <option value="race_human">     Race:Human      </option>
                        <option value="race_maledicti"> Race:Maledicti  </option>
                        <option value="race_pnaevaru">  Race:Pnaevaru   <option>
                        <option value="socialite">      Socialite       </option>
                        <option value="specialist">     Specialist      </option>
                        <option value="tradesman">      Tradesman       </option>
                        <option value="wanderer">       Wanderer        </option>
                        <option value="weapons_master"> Weapons:MASTER  </option>
                    </select>
                </div>
                <div class="next traits_mid">
                    <h6> TRAITS </h6>
                    <div class="border activated_trait t_race_human">
                        <div class="hexagon" title="Race:Human">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_human.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_human"></span><span>/</span><span name="attr_t_race_human_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You are allowed to change your Augments within their cluster every time you get a new Augment. The second Augment cluster offers a fourth Augment. <br> For each non-Human Player in your Party, 1 Augment is a higher rank. <br> (1) This trait is active while no other Race talent is equipped or on your bench. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_race_pnaevaru">
                        <div class="hexagon" title="Race:Pnaevaru">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_pnaevaru.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_pnaevaru"></span><span>/</span><span name="attr_t_race_pnaevaru_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> Race:Maledicti talents lose that trait (Tribal excluded). <br> Based on your Subtype gain an effect. <br> (1) Active with exactly 1 Race:Pnaevaru talent. <span class="orange"> Haeridicti: </span> For each non-Human in your Party, gain +2 adaptive Development. <span class="orange"> Maledicti (Consumable): </span> Your starter Consumable is upgraded every time you have a natural crit with Tribal. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_corrupt">
                        <div class="hexagon" title="Corrupt">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_corrupt.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_corrupt"></span><span>/</span><span name="attr_t_corrupt_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> The knowledge about the Agenda of NPCs is increased and you need lesser effort to bribe a non-relevant NPC. <br> (2) +2 Agenda-Vision <br> (3) +5 Agenda-Vision <br> (4) +10 Agenda-Vision </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_lawful">
                        <div class="hexagon" title="Lawful">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_lawful.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_lawful"></span><span>/</span><span name="attr_t_lawful_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> You can sense if something is illegal. <br> You gain SP Fragments every time you naturally hit with a Lawful talent. <br> Each illegal activity you punish by law increases the effect by 10%, stacking up to 5 times. <br> (2) 20 Fragments <br> (4) 40 Fragments <br> (6) 60 Fragments <br> Info: 90 SP Fragments = 1 SP </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_chaotic">
                        <div class="hexagon" title="Chaotic">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_chaotic.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_chaotic"></span><span>/</span><span name="attr_t_chaotic_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> Friendly fire is possible. <br> You gain increased damage or damage reduction, based on your allies' health. Critical failures have a chance of a positive outcome. <br> (2) 5% [1] <br> (4) 10% [3] <br> (5) 15% [5] </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_benevolent">
                        <div class="hexagon" title="Benevolent">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_benevolent.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_benevolent"></span><span>/</span><span name="attr_t_benevolent_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> There are at least d4 quests at blackboards. <br> For each quest done, you increase your fame. <br> You gain discounts for expensive Items and Consumables, +4 Gift-Value according to your fame. <br> (3) 5% for expensive Items and 2 for Consumables <br> (6) 10% for expensive Items and 5 Pen for Consumables <br> (9) 25% for expensive Items and 15 Pen for Consumables </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_ambitious">
                        <div class="hexagon" title="Ambitious">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_ambitious.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_ambitious"></span><span>/</span><span name="attr_t_ambitious_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> If there is an allied NPC (Companions excluded) alive near you, you are inspired to work harder, gaining a physical buff. <br> (3) +5% Physical, 1 random physical short <br> (6) +10% Physical, 2 random physical shorts <br> (9) +20% Physical, 3 random physical shorts </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_prejudice">
                        <div class="hexagon" title="Prejudice">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_prejudice.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_prejudice"></span><span>/</span><span name="attr_t_prejudice_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Deal 20% bonus damage to enemies who have at least one of their Rival Traits active. <br> (1) Active with exactly 1 Prejudice talent. </span> <span class="orange"> Knight Rival Traits: </span> <span> Chaotic, Corrupt, Evil, Pride </span> <span class="orange"> Assassin Rival Traits: </span> <span> Ambitious, Benevolent, Idol, Lawful </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_evil">
                        <div class="hexagon" title="Evil">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_evil.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_evil"></span><span>/</span><span name="attr_t_evil_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> Getting caught by law resets your Bounty and reduces your stolen Loot by 50% at random. <br> For each Lawbreak you gain a Bounty stack and have a chance to gain bonus stolen Loot. <br> (3) 20% <br> (5) 30%, +7% per Bounty stack </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_pride">
                        <div class="hexagon" title="Pride">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_pride.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_pride"></span><span>/</span><span name="attr_t_pride_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Gain exclusive random Talisman items. <br> Aura buffs that target you are increased. <br> (3) 1 Talisman, +20% [1] <br> (5) 2 Talismans, +40% [2] <br> (7) 3 Talismans, +60% [3] <br> (9) 4 Talismans, +100% [5] </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_idol">
                        <div class="hexagon" title="Idol">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_idol.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_idol"></span><span>/</span><span name="attr_t_idol_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Succeeding an action with an Idol talent grants allied Players and NPCs Hit Chance for their next action with the same talent. <br> (3) +1 Hit Chance <br> (6) +3 Hit Chance, +1 Crit. Strike Chance </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_inquisitive">
                        <div class="hexagon" title="Inquisitive">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_inquisitive.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_inquisitive"></span><span>/</span><span name="attr_t_inquisitive_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Gain knowledge about talents and abilities of your encounter. <br> For each ability you learn, gain SPs. <br> (2) the strongest talent, +1 SP <br> (4) and the ability pool, +2 SP <br> (6) and the strongest ability, +3 SP </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_hypocrite">
                        <div class="hexagon" title="Hypocrite">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_hypocrite.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_hypocrite"></span><span>/</span><span name="attr_t_hypocrite_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You can pretend to be stronger or weaker towards NPCs. Your rank counts as being lower. <br> (2) ±1 pretending <br> (3) ±2 pretending, -1 Rank <br> (4) ±3 pretending, -2 Ranks </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_race_maledicti">
                        <div class="hexagon" title="Race:Maledicti">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_maledicti.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_maledicti"></span><span>/</span><span name="attr_t_race_maledicti_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You gain bonus stats. For each Race:Maledicti talent the bonus of this trait is reduced. <br> (5) +10 HP <br> (4) and +1 MS <br> (3) and +2 Action points <br> (2) and 50% [2] of your Defense/Reflex reduces magical damage <br> (1) and gain permanent keyword based on your strongest Race:Maledicti talent. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_mastermind">
                        <div class="hexagon" title="Mastermind">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_mastermind.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_mastermind"></span><span>/</span><span name="attr_t_mastermind_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> choose 4 Shorts to be your bench. <br> Traits are unaffected by the bench (except for Race talents). <br> (1) Bonus Effect </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_forecaster">
                        <div class="hexagon" title="Forecaster">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_forecaster.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_forecaster"></span><span>/</span><span name="attr_t_forecaster_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You grant a different buff to all allied Players depending on the current weather, which changes at least every day. <br> (1) Bonus Effect </span> <span class="orange"> Weather: </span> <span> Temperate (Climate) <br> Heat (-X Work/+2 onHit) <br> Wind (-X Sports/+1MS) <br> Rain (-X Fight/Immune) <br> Fog (-2 Vision/+4 Sneaky) <br> Snow (-X MS/+2 Armor) <br> Fairy Dust (X/X) </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_specialist">
                        <div class="hexagon" title="Specialist">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_specialist.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_specialist"></span><span>/</span><span name="attr_t_specialist_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Gain a special effect based on your Race. <br> (1) Bonus Effect </span> <span class="orange"> Gaesser </span> <span> Gain a Gaess Upgrade for each Antagonist who submitted to you. </span> <span class="orange"> Paerduan </span> <span> Pen & Paper start: you lose 1/3 base TP. <br> If you possess someone, add their physical talents to your character sheet. </span> <span class="orange"> Paerussa </span> <span> Pen & Paper start: choose your Cogium. <br> For each devoured human-like creature gain a RC stack. At X/Y/Z your Cogium evolves. </span> <span class="orange"> Praeven </span> <span> Pen & Paper start: choose a Class. </span> <span class="orange"> Schlaechter </span> <span> Pen & Paper start: choose a Breathing-Style. <br> Abilities that share a type with your Breathing-Style are enhanced. </span> <span class="orange"> Taellubrix </span> <span> Your body is covered in tattoos. Each tattoo has an effect that is only active while in the determined region </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_adventurer">
                        <div class="hexagon" title="Adventurer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_adventurer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_adventurer"></span><span>/</span><span name="attr_t_adventurer_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Every time you would gain loot, you may choose to take the current loot, or continue the heist to make 1 more theft and get even better rewards. After completing a heist, a new one begins. <br> (3) A Heist can include up to 3 thefts. <br> (4) A Heist can include up to 5 thefts. <br> (5) A Heist can include up to 8 thefts. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_blacksmith">
                        <div class="hexagon" title="Blacksmith">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_blacksmith.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_blacksmith"></span><span>/</span><span name="attr_t_blacksmith_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> After participating in combat, you will begin creating an idea for an artifact. After finishing the idea, you gain a forge-recipe. <br> Stats and effects are determined by your Blacksmith talents. <br> (2) 4 combats to finish the idea. <br> (3) 3 combats to finish the idea. <br> (4) 2 combats to finish the idea. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_druid">
                        <div class="hexagon" title="Druid">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_druid.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_druid"></span><span>/</span><span name="attr_t_druid_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Grants 3 random Potion-Recipes. You can create unique Potion-Recipes. <br> (3) 1 unique recipe <br> (5) 2 unique recipes <br> (7) 4 unique Recipes </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_socialite">
                        <div class="hexagon" title="Socialite">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_socialite.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_socialite"></span><span>/</span><span name="attr_t_socialite_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> Grant yourself a random buff (based on your Socialite talents) until end of day. <br> Interacting with your Player Allies grants them random buffs until end of day too. <br> (2) up to 1 ally <br> (4) up to 2 allies <br> (6) up to 4 allies </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_caretaker">
                        <div class="hexagon" title="Caretaker">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_caretaker.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_caretaker"></span><span>/</span><span name="attr_t_caretaker_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Every day, you feed Snax to your Companions, adding Health and Attack Damage. At 15 Snax, a Companion can upgrade or learn a new ability. The Snax are splitted randomly. <br> (2) 3 Snax <br> (3) 4 Snax <br> (4) 5 Snax <br> (5) 8 Snax </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_expert">
                        <div class="hexagon" title="Expert">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_expert.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_expert"></span><span>/</span><span name="attr_t_expert_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Every Expert talent is enhanced by a passive. You gain random static abilities matching your Expert talents. <br> (3) 1 Ability <br> (5) 2 Abilities <br> (7) the Abilities lose static </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_weapons_master">
                        <div class="hexagon" title="Weapons:MASTER">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_weapons_master.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_weapons_master"></span><span>/</span><span name="attr_t_weapons_master_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> Add a random non-physical learnable short to your ... for every talent with the Short "Attack", except the first one. <br> Choose a MASTER. Combat start: the MASTER combines all other Weapons, gaining crit chance and bonus Shorts. <br> (3) The MASTER gains 5% crit chance and 1 bonus Short. <br> (5) The MASTER gains 20% crit chance and 2 bonus Short. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_pioneer">
                        <div class="hexagon" title="Pioneer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_pioneer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_pioneer"></span><span>/</span><span name="attr_t_pioneer_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Pioneer talents gain a wacky upgrade. <br> Pioneer talents can gain a third short. <br> (3) If you have at least 9P per Pioneer talent, your strongest Pioneer talent gains a third short. <br> (5) Two Pioneer talents gain a third short. </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_tradesman">
                        <div class="hexagon" title="Tradesman">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_tradesman.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_tradesman"></span><span>/</span><span name="attr_t_tradesman_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span class="tt_blue"> Innate: </span> <span> You gain 10% Pen interest at daybreak. <br> Grant your character trade agreements (global trading) per area. <br> (2) max. 50Pen, Tradesman (5) <br> (4) max. 500 Pen, Capitals (17) <br> (6) max. 10.000 Pen, Provinces (114) </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_cartograph">
                        <div class="hexagon" title="Cartograph">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_cartograph.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_cartograph"></span><span>/</span><span name="attr_t_cartograph_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You gain a unique bonus for each Origin visited; the bonus of your current location is doubled. Increases for each Cartograph talent. <br> (2) 100% <br> (3) 120% [+1] <br> (4) 140% [+2] <br> (5) 160% [+3] <br> (6) 180% [+4] <br> (7) 200% [+6] </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_wanderer">
                        <div class="hexagon" title="Wanderer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_wanderer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_wanderer"></span><span>/</span><span name="attr_t_wanderer_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> You gain bonus movement speed and action points. <br> (2) +1 MS <br> (3) +2 MS and Advantage <br> (4) +3 MS and Advantage, +1 MS for allies </span>
                        </div>
                    </div>
                    <div class="border activated_trait t_magus">
                        <div class="hexagon" title="Magus">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_magus.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_magus"></span><span>/</span><span name="attr_t_magus_next"></span>
                        </div>
                        <div class="border act_trait_text">
                            <span> Your Magus talents can become magical enhanced. <br> (3) After you critical strike your specific magus talent becomes enhanced. It loses the enhancement as soon as you critical fail with the same talent. </span>
                        </div>
                    </div>
                </div>
                <div class="traits_right">
                    <h6> UNFINISHED </h6>
                    <div class="unfinished_trait t_race_human_unfinished">
                        <div class="hexagon" title="Race:Human">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_human.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_human"></span><span>/</span><span name="attr_t_race_human_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_race_pnaevaru_unfinished">
                        <div class="hexagon" title="Race:Pnaevaru">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_pnaevaru.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_pnaevaru"></span><span>/</span><span name="attr_t_race_pnaevaru_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_corrupt_unfinished">
                        <div class="hexagon" title="Corrupt">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_corrupt.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_corrupt"></span><span>/</span><span name="attr_t_corrupt_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_lawful_unfinished">
                        <div class="hexagon" title="Lawful">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_lawful.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_lawful"></span><span>/</span><span name="attr_t_lawful_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_chaotic_unfinished">
                        <div class="hexagon" title="Chaotic">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_chaotic.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_chaotic"></span><span>/</span><span name="attr_t_chaotic_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_benevolent_unfinished">
                        <div class="hexagon" title="Benevolent">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_benevolent.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_benevolent"></span><span>/</span><span name="attr_t_benevolent_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_ambitious_unfinished">
                        <div class="hexagon" title="Ambitious">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_ambitious.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_ambitious"></span><span>/</span><span name="attr_t_ambitious_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_prejudice_unfinished">
                        <div class="hexagon" title="Prejudice">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_prejudice.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_prejudice"></span><span>/</span><span name="attr_t_prejudice_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_evil_unfinished">
                        <div class="hexagon" title="Evil">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_evil.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_evil"></span><span>/</span><span name="attr_t_evil_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_pride_unfinished">
                        <div class="hexagon" title="Pride">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_pride.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_pride"></span><span>/</span><span name="attr_t_pride_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_idol_unfinished">
                        <div class="hexagon" title="Idol">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_idol.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_idol"></span><span>/</span><span name="attr_t_idol_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_inquisitive_unfinished">
                        <div class="hexagon" title="Inquisitive">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_inquisitive.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_inquisitive"></span><span>/</span><span name="attr_t_inquisitive_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_hypocrite_unfinished">
                        <div class="hexagon" title="Hypocrite">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_hypocrite.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_hypocrite"></span><span>/</span><span name="attr_t_hypocrite_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_race_maledicti_unfinished">
                        <div class="hexagon" title="Race:Maledicti">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_race_maledicti.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_race_maledicti"></span><span>/</span><span name="attr_t_race_maledicti_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_mastermind_unfinished">
                        <div class="hexagon" title="Mastermind">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_mastermind.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_mastermind"></span><span>/</span><span name="attr_t_mastermind_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_forecaster_unfinished">
                        <div class="hexagon" title="Forecaster">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_forecaster.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_forecaster"></span><span>/</span><span name="attr_t_forecaster_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_specialist_unfinished">
                        <div class="hexagon" title="Specialist">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_specialist.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_specialist"></span><span>/</span><span name="attr_t_specialist_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_adventurer_unfinished">
                        <div class="hexagon" title="Adventurer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_adventurer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_adventurer"></span><span>/</span><span name="attr_t_adventurer_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_blacksmith_unfinished">
                        <div class="hexagon" title="Blacksmith">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_blacksmith.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_blacksmith"></span><span>/</span><span name="attr_t_blacksmith_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_druid_unfinished">
                        <div class="hexagon" title="Druid">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_druid.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_druid"></span><span>/</span><span name="attr_t_druid_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_socialite_unfinished">
                        <div class="hexagon" title="Socialite">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_socialite.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_socialite"></span><span>/</span><span name="attr_t_socialite_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_caretaker_unfinished">
                        <div class="hexagon" title="Caretaker">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_caretaker.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_caretaker"></span><span>/</span><span name="attr_t_caretaker_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_expert_unfinished">
                        <div class="hexagon" title="Expert">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_expert.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_expert"></span><span>/</span><span name="attr_t_expert_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_weapons_master_unfinished">
                        <div class="hexagon" title="Weapons:MASTER">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_weapons_master.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_weapons_master"></span><span>/</span><span name="attr_t_weapons_master_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_pioneer_unfinished">
                        <div class="hexagon" title="Pioneer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_pioneer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_pioneer"></span><span>/</span><span name="attr_t_pioneer_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_tradesman_unfinished">
                        <div class="hexagon" title="Tradesman">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_tradesman.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_tradesman"></span><span>/</span><span name="attr_t_tradesman_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_cartograph_unfinished">
                        <div class="hexagon" title="Cartograph">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_cartograph.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_cartograph"></span><span>/</span><span name="attr_t_cartograph_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_wanderer_unfinished">
                        <div class="hexagon" title="Wanderer">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_wanderer.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_wanderer"></span><span>/</span><span name="attr_t_wanderer_next"></span>
                        </div>
                    </div>
                    <div class="unfinished_trait t_magus_unfinished">
                        <div class="hexagon" title="Magus">
                            <img src="https://raw.githubusercontent.com/ChrisEwert/pnp_dd/main/images/white_magus.png">
                        </div>
                        <div class="border act_trait_count">
                            <span name="attr_t_magus"></span><span>/</span><span name="attr_t_magus_next"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-container" data-tab="equipment">
            <div class="flex">
                <div class="weapon">
                    <h6> WEAPON </h6>
                    <select name="attr_weapon_name">
                        <option> Fist </option>
                        <option> Bronze Short-Sword </option>
                        <option> Bronze Short-Sword+ </option>
                        <option> Bronze Short-Sword++ </option>
                        <option> Bronze Short-Sword+++ </option>
                        <option> Wing-Cogium </option>
                    </select>
                    <!-- <datalist id="weapon_list">
                    </datalist>
                    <input  class="interaction_border weapon_name" type="text" placeholder="Weapon name" list="weapon_list" value="No weapon" /> -->
                    <div class="weapon_bottom">
                        <div class="secondary_tab">
                            <div class="weapon_tab_button active" data-weapon_tab="stats">
                                Stats
                            </div>
                            <div class="weapon_tab_button" data-weapon_tab="info">
                                Info
                            </div>
                        </div>
                        <div class="secondary_tab_container active" data-weapon_tab="stats">
                            <div class="weapon_category">
                                <div class="border weapon_icon"></div>
                                <div class="weapon_border_bot">
                                    <span class=""> Damage </span>
                                    <input name="attr_w_damage" type="number" value="16" />
                                </div>
                            </div>
                            <div class="weapon_category">
                                <div class="border weapon_icon"></div>
                                <div class="weapon_border_bot">
                                    <span class=""> Dexterity </span>
                                    <input name="attr_w_dexterity" type="number" value="100" />
                                </div>
                            </div>
                            <div class="weapon_category">
                                <div class="border weapon_icon"></div>
                                <div class="weapon_border_bot">
                                    <span class=""> Defense </span>
                                    <input name="attr_w_defense" type="number" value="0" />
                                </div>
                            </div>
                            <div class="weapon_category">
                                <div class="border weapon_icon"></div>
                                <div class="weapon_border_bot">
                                    <span class=""> Durability</span>
                                    <input name="attr_w_durability" type="number" value="0" />
                                </div>
                            </div>
                            <div class="weapon_category">
                                <div class="border weapon_icon"></div>
                                <div class="weapon_border_bot">
                                    <span class=""> On-Hit</span>
                                    <input name="attr_w_on_hit" type="number" value="0" />
                                </div>
                            </div>
                        </div>
                        <div class="secondary_tab_container" data-weapon_tab="info">
                            <div class="weapon_info">
                                <div class="border weapon_icon icon_material"></div>
                                <input class="interaction_border" name="attr_w_material" placeholder="Material" type="text" value="" />
                            </div>
                            <div class="weapon_info">
                                <div class="border weapon_icon icon_grade"></div>
                                <input class="interaction_border" name="attr_w_grade" placeholder="Grade" type="number" value="0" />
                            </div>
                            <div class="weapon_info">
                                <div class="border weapon_icon icon_value"></div>
                                <input class="interaction_border" name="attr_w_value" placeholder="Value" type="number" value="0" />
                            </div>
                            <div class="weapon_info">
                                <div class="border weapon_icon icon_weight"></div>
                                <input class="interaction_border" name="attr_w_weight" placeholder="Weight" type="number" value="0" />
                            </div>
                        </div>
                        <textarea class="border" name="attr_w_effect" placeholder="Effect" value="No effect"></textarea>
                        <button class="skill_rules attack_button" type="roll" value="/em deals [[round(@{w_damage} * @{weapon_style}/100 * @{hands}/100)]] damage!"> Attack </button>
                    </div>
                </div>
                <div class="items">
                    <h6> ITEMS </h6>
                    <div class="armor_class">
                        <span> Armor class: </span> <span name="attr_armor_class"></span>
                        <span>(Bonus: </span><input name="attr_armorClassBonus" style="width:32px; height: 24px;" type="number" value="0" /> <span>)</span>
                    </div>
                    <div class="magic_class">
                        <span> Magic class: </span> <span name="attr_magic_class"></span>
                        <span>(Bonus: </span><input name="attr_magicClassBonus" style="width:32px; height: 24px;" type="number" value="0" /> <span>)</span>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_head_name" class="interaction_border" type="text" placeholder="Head" value="" />
                            <input class="armor_border" name="attr_it_head_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_head_magical" type="number" value="0" />
                        </div>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_shoulders_name" class="interaction_border" type="text" placeholder="Shoulders" value="" />
                            <input class="armor_border" name="attr_it_shoulders_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_shoulders_magical" type="number" value="0" />
                        </div>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_torso_name" class="interaction_border" type="text" placeholder="Torso" value="" />
                            <input class="armor_border" name="attr_it_torso_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_torso_magical" type="number" value="0" />
                        </div>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_arms_name" class="interaction_border" type="text" placeholder="Arms" value="" />
                            <input class="armor_border" name="attr_it_arms_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_arms_magical" type="number" value="0" />
                        </div>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_legs_name" class="interaction_border" type="text" placeholder="Legs" value="" />
                            <input class="armor_border" name="attr_it_legs_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_legs_magical" type="number" value="0" />
                        </div>
                    </div>
                    <div class="item">
                        <div class="border item_icon"></div>
                        <div class="weapon_border_bot">
                            <input name="attr_it_feet_name" class="interaction_border" type="text" placeholder="Feet" value="" />
                            <input class="armor_border" name="attr_it_feet_physical" type="number" value="0" />
                            <input class="magic_border" name="attr_it_feet_magical" type="number" value="0" />
                        </div>
                    </div>
                </div>
                <div class="inventory_skills">
                    <h6> INVENTORY & UNEQUIPPED SKILLS </h6>
                    <div class="secondary_tab">
                        <div class="inventory_tab_button active" data-inventory_tab="inventory">
                            Inventory
                        </div>
                        <div class="inventory_tab_button" data-inventory_tab="skills">
                            Skills
                        </div>
                    </div>
                    <div class="secondary_tab_container active" data-inventory_tab="inventory">
                        <div class="inventory">
                            <fieldset class="repeating_inventory">
                                <div class="inventory_item">
                                    <div></div>
                                    <input name="attr_inventory_item" type="text" value="" />
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="secondary_tab_container" data-inventory_tab="skills">
                        <div class="unequipped_skills">
                            <fieldset class="repeating_unequipped">
                                <select name="attr_unequipped_skill">
                                    <option value="">                       Skill                   </option>
                                    <option value="acceleration">           Acceleration            </option>
                                    <option value="amplification">          Amplification           </option>
                                    <option value="balance">                Balance                 </option>
                                    <option value="enhancement">            Enhancement             </option>
                                    <option value="perseverance">           Perseverance            </option>
                                    <option value="precision">              Precision               </option>
                                    <option value="resolve">                Resolve                 </option>
                                    <option value="retention">              Retention               </option>
                                    <option value="adaptive_helmet">        Adaptive helmet         </option>
                                    <option value="aptitute_for_imitation"> Aptitute for imitation  </option>
                                    <option value="archangel_staff">        Archangel staff         </option>
                                    <option value="bloodthirster">          Bloodthirster           </option>
                                    <option value="blue_buff">              Blue buff               </option>
                                    <option value="bramble_vest">           Bramble vest            </option>
                                    <option value="crownguard">             Crownguard              </option>
                                    <option value="death_blade">            Death blade             </option>
                                    <option value="dragons_claw">           Dragons claw            </option>
                                    <option value="edge_of_night">          Edge of night           </option>
                                    <option value="even_shroud">            Even shroud             </option>
                                    <option value="gargoyles_stoneplate">   Gargoyles stoneplate    </option>
                                    <option value="giant_slayer">           Giant slayer            </option>
                                    <option value="guard_breaker">          Guard breaker           </option>
                                    <option value="hand_of_justice">        Hand of justice         </option>
                                    <option value="hextech_gunblade">       Hextech gunblade        </option>
                                    <option value="infinity_edge">          Infinity edge           </option>
                                    <option value="ionic_spark">            Ionic spark             </option>
                                    <option value="jeweled_gauntlet">       Jeweled gauntlet        </option>
                                    <option value="last_whisper">           Last whisper            </option>
                                    <option value="morellonomicon">         Morellonomicon          </option>
                                    <option value="nashors_tooth">          Nashors tooth           </option>
                                    <option value="protectors_vow">         Protectors vow          </option>
                                    <option value="quicksilver">            Quicksilver             </option>
                                    <option value="rabadons_deathcap">      Rabadons deathcap       </option>
                                    <option value="rageblade">              Rageblade               </option>
                                    <option value="red_buff">               Red buff                </option>
                                    <option value="redemption">             Redemption              </option>
                                    <option value="runaans_hurricane">      Runaans hurricane       </option>
                                    <option value="spear_of_shojin">        Spear of shojin         </option>
                                    <option value="statikk_shiv">           Statikk shiv            </option>
                                    <option value="steadfast_heart">        Steadfast heart         </option>
                                    <option value="steraks_gage">           Steraks gage            </option>
                                    <option value="sunfire_cape">           Sunfire cape            </option>
                                    <option value="titans_resolve">         Titans resolve          </option>
                                    <option value="warmogs_armor">          Warmogs armor           </option>
                                </select>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-container active" data-tab="abilities">
            <div class="abilities_co_area">
                <div class="keywords_area start">
                    <div class="justify_content mb">
                        <h6>KEYWORDS</h6>
                        <button name="act_show_keywords" type="action">
                            <span name="attr_keywords_flag"></span>
                        </button>
                    </div>
                    <input class="keywords_flag" name="attr_keywords_flag" type="hidden" value="●" />
                    <div class="keywords_block">
                        <div class="new_tab_buttons">
                            <div class="tab_button_keywords active"  data-tab_keywords="learned">  Learned </div>
                            <div class="tab_button_keywords"         data-tab_keywords="pool">     Pool    </div>
                        </div>
                        <div class="new_tab_content">
                            <div class="new_tab_container tab_container_keywords column active" data-tab_keywords="learned">

                                <input type="hidden" class="kp_loot_flag" name="attr_kp_loot_flag" value="" />
                                <div class="kp_loot keywords_pool block">
                                    <div class="justify_content mb">
                                        <h6>Loot</h6>
                                        <button name="act_lootDescriptionShow" type="action">
                                            <span name="attr_lootDescriptionFlag"></span>
                                        </button>
                                    </div>
                                    <input class="lootDescriptionFlag" name="attr_lootDescriptionFlag" type="hidden" value="▼" />
                                    <div class="lootDescription">
                                        <fieldset class="repeating_keywordsLoot">
                                            <div class="keywords_element">
                                                <input name="attr_keyword_loot_name" placeholder="Name" type="text" />
                                                <textarea name="attr_keyword_loot_description" placeholder="Description"></textarea>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="lootNoDescription">
                                        <fieldset class="repeating_keywordsLoot noRep">
                                            <div class="keywords_element">
                                                <span name="attr_keyword_loot_name"></span>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>

                                <input type="hidden" class="kp_swimDive_flag" name="attr_kp_swimDive_flag" value="" />
                                <div class="kp_swimDive keywords_pool block">
                                    <div class="justify_content mb">
                                        <h6>Swim & Dive</h6>
                                        <button name="act_swimDiveDescriptionShow" type="action">
                                            <span name="attr_swimDiveDescriptionFlag"></span>
                                        </button>
                                    </div>
                                    <input class="swimDiveDescriptionFlag" name="attr_swimDiveDescriptionFlag" type="hidden" value="▼" />
                                    <div class="swimDiveDescription">
                                        <fieldset class="repeating_keywordsSwimDive">
                                            <div class="keywords_element">
                                                <input name="attr_keyword_swimDive_name" placeholder="Name" type="text" />
                                                <textarea name="attr_keyword_swimDive_description" placeholder="Description"></textarea>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="swimDiveNoDescription">
                                        <fieldset class="repeating_keywordsSwimDive noRep">
                                            <div class="keywords_element">
                                                <span name="attr_keyword_swimDive_name"></span>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>

                                <input type="hidden" class="kp_presence_flag" name="attr_kp_presence_flag" value="" />
                                <div class="kp_presence keywords_pool block">
                                    <div class="justify_content mb">
                                        <h6>Presence</h6>
                                        <button name="act_presenceDescriptionShow" type="action">
                                            <span name="attr_presenceDescriptionFlag"></span>
                                        </button>
                                    </div>
                                    <input class="presenceDescriptionFlag" name="attr_presenceDescriptionFlag" type="hidden" value="▼" />
                                    <div class="presenceDescription">
                                        <fieldset class="repeating_keywordsPresence">
                                            <div class="keywords_element">
                                                <input name="attr_keyword_presence_name" placeholder="Name" type="text" />
                                                <textarea name="attr_keyword_presence_description" placeholder="Description"></textarea>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="presenceNoDescription">
                                        <fieldset class="repeating_keywordsPresence noRep">
                                            <div class="keywords_element">
                                                <span name="attr_keyword_presence_name"></span>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                
                                <input type="hidden" class="kp_magic_flag" name="attr_kp_magic_flag" value="" />
                                <div class="kp_magic keywords_pool block">
                                    <div class="justify_content mb">
                                        <h6>Magic</h6>
                                        <button name="act_magicDescriptionShow" type="action">
                                            <span name="attr_magicDescriptionFlag"></span>
                                        </button>
                                    </div>
                                    <input class="magicDescriptionFlag" name="attr_magicDescriptionFlag" type="hidden" value="▼" />
                                    <div class="magicDescription">
                                        <fieldset class="repeating_keywordsMagic">
                                            <div class="keywords_element">
                                                <input name="attr_keyword_magic_name" placeholder="Name" type="text" />
                                                <textarea name="attr_keyword_magic_description" placeholder="Description"></textarea>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="magicNoDescription">
                                        <fieldset class="repeating_keywordsMagic noRep">
                                            <div class="keywords_element">
                                                <span name="attr_keyword_magic_name"></span>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                
                                <input type="hidden" class="kp_combat_flag" name="attr_kp_combat_flag" value="" />
                                <div class="kp_combat keywords_pool block">
                                    <div class="justify_content mb">
                                        <h6>Combat</h6>
                                        <button name="act_combatDescriptionShow" type="action">
                                            <span name="attr_combatDescriptionFlag"></span>
                                        </button>
                                    </div>
                                    <input class="combatDescriptionFlag" name="attr_combatDescriptionFlag" type="hidden" value="▼" />
                                    <div class="combatDescription">
                                        <fieldset class="repeating_keywordsCombat">
                                            <div class="keywords_element">
                                                <input name="attr_keyword_combat_name" placeholder="Name" type="text" />
                                                <textarea name="attr_keyword_combat_description" placeholder="Description"></textarea>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="combatNoDescription">
                                        <fieldset class="repeating_keywordsCombat noRep">
                                            <div class="keywords_element">
                                                <span name="attr_keyword_combat_name"></span>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>

                            </div>
                            <div class="new_tab_container tab_container_keywords column" data-tab_keywords="pool">
                                
                                <div class="keywords_pool_selection">
                                    <div class="justify_content">
                                        <h6>Loot</h6>
                                        <button name="act_show_kp_loot" type="action">
                                            <span name="attr_kp_loot_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Swim & Dive</h6>
                                        <button name="act_show_kp_swimDive" type="action">
                                            <span name="attr_kp_swimDive_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Presence</h6>
                                        <button name="act_show_kp_presence" type="action">
                                            <span name="attr_kp_presence_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Magic</h6>
                                        <button name="act_show_kp_magic" type="action">
                                            <span name="attr_kp_magic_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Combat</h6>
                                        <button name="act_show_kp_combat" type="action">
                                            <span name="attr_kp_combat_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Weapon</h6>
                                        <button name="act_show_kp_weapon" type="action">
                                            <span name="attr_kp_weapon_flag"></span>
                                        </button>
                                    </div>
                                    <div class="justify_content">
                                        <h6>Trait: Expert</h6>
                                        <button name="act_show_kp_traitExpert" type="action">
                                            <span name="attr_kp_traitExpert_flag"></span>
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="keywords_permanent">
                        <div class="heading">
                            <h6>PERMANENT</h6>
                        </div>

                        <input type="hidden" class="kp_other_flag" name="attr_kp_other_flag" value="" />
                        <div class="kp_other keywords_pool block">
                            <div class="justify_content mb">
                                <h6>Other</h6>
                                <button name="act_otherDescriptionShow" type="action">
                                    <span name="attr_otherDescriptionFlag"></span>
                                </button>
                            </div>
                            <input class="otherDescriptionFlag" name="attr_otherDescriptionFlag" type="hidden" value="▼" />
                            <div class="otherDescription">
                                <fieldset class="repeating_keywordsOther">
                                    <div class="keywords_element">
                                        <input name="attr_keyword_other_name" placeholder="Name" type="text" />
                                        <textarea name="attr_keyword_other_description" placeholder="Description"></textarea>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="otherNoDescription">
                                <fieldset class="repeating_keywordsOther noRep">
                                    <div class="keywords_element">
                                        <span name="attr_keyword_other_name"></span>
                                    </div>
                                </fieldset>
                            </div>
                        </div>

                        <input type="hidden" class="kp_weapon_flag" name="attr_kp_weapon_flag" value="" />
                        <div class="kp_weapon keywords_pool block">
                            <div class="justify_content mb">
                                <h6>Weapon</h6>
                                <button name="act_weaponDescriptionShow" type="action">
                                    <span name="attr_weaponDescriptionFlag"></span>
                                </button>
                            </div>
                            <input class="weaponDescriptionFlag" name="attr_weaponDescriptionFlag" type="hidden" value="▼" />
                            <div class="weaponDescription">
                                <fieldset class="repeating_keywordsWeapon">
                                    <div class="keywords_element">
                                        <input name="attr_keyword_weapon_name" placeholder="Name" type="text" />
                                        <textarea name="attr_keyword_weapon_description" placeholder="Description"></textarea>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="weaponNoDescription">
                                <fieldset class="repeating_keywordsWeapon noRep">
                                    <div class="keywords_element">
                                        <span name="attr_keyword_weapon_name"></span>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        
                        <input type="hidden" class="kp_traitExpert_flag" name="attr_kp_traitExpert_flag" value="" />
                        <div class="kp_traitExpert keywords_pool block">
                            <div class="justify_content mb">
                                <h6>Trait: Expert</h6>
                                <button name="act_traitExpertDescriptionShow" type="action">
                                    <span name="attr_traitExpertDescriptionFlag"></span>
                                </button>
                            </div>
                            <input class="traitExpertDescriptionFlag" name="attr_traitExpertDescriptionFlag" type="hidden" value="▼" />
                            <div class="traitExpertDescription">
                                <fieldset class="repeating_keywordsTraitExpert">
                                    <div class="keywords_element">
                                        <input name="attr_keyword_traitExpert_name" placeholder="Name" type="text" />
                                        <textarea name="attr_keyword_traitExpert_description" placeholder="Description"></textarea>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="traitExpertNoDescription">
                                <fieldset class="repeating_keywordsTraitExpert noRep">
                                    <div class="keywords_element">
                                        <span name="attr_keyword_traitExpert_name"></span>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    
                    </div>
                </div>
                <div class="abilitiesArea next">
                <!-- THIS WORKS BUT I DO NOT LIKE IT
                    <div>
                        <textarea name="attr_textInput" placeholder="Write text in brackets [] to make it appear blue" type="text" value=""></textarea>
                        <span class="text1" name="attr_text1"></span>
                        <span class="text2" name="attr_text2"></span>
                        <span class="text3" name="attr_text3"></span>
                        <span class="text4" name="attr_text4"></span>
                        <span class="text5" name="attr_text5"></span>
                        <span class="text6" name="attr_text6"></span>
                    </div>
                -->
                    <div class="abilitiesTop">
                        <div class="abilitiesTabOne">
                            <span>Learned</span>
                        </div>
                        <h6>ABILITIES</h6>
                        <div class="abilitiesTabTwo">
                            <span>Pool</span>
                        </div>
                    </div>
                    <div class="abilitiesContent">
                        <div class="ability">
                            <div class="abilityTop">
                                <div class="abilityTab">
                                    <select>
                                        <option>Talent</option>
                                    </select>
                                    <button type="roll"></button>
                                </div>
                                <div class="abilityTabFiller"></div>
                                <div class="abilityTab">
                                  <span>Level</span>
                                  <input style="width: 20px;" type="number" value="0" />
                                  <div>
                                    <input name="attr_abilityCount" type="hidden" value="0" />
                                    <input name="attr_abilityMax" type="hidden" value="5" />
                                    <span style="border-left: 1px solid gold; padding-left: 10px; margin-left: 10px;">(</span><span name="attr_abilityCount"></span><span>/</span><span name="attr_abilityMax"></span><span>)</span>
                                  </div>
                                </div>
                              </div>                              
                            <div class="abilityBottom">
                                <div class="justify_content">
                                    <input class="abilityName" name="abilityName" placeholder="Ability name" type="text" />
                                    <input class="abilityCost" name="abilityCost" placeholder="&#128167;" type="number" />
                                    <input class="abilityCooldown" name="abilityCooldown" placeholder="⏱" type="number" />
                                    <input class="abilityHitChance" name="abilityHitChance" placeholder="%" type="number" />
                                </div>
                                <textarea class="abilityText" name="abilityText" placeholder="Ability text"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="commands_rhetorics_area end">
                    <div>
                        <div class="justify_content mb">
                            <h6>COMMANDS</h6>
                            <button name="act_show_commands" type="action">
                                <span name="attr_commands_flag"></span>
                            </button>
                        </div>
                        <input class="commands_flag" name="attr_commands_flag" type="hidden" value="●" />
                        <div class="commands_block">
                            <div class="new_tab_buttons">
                                <div class="tab_button_commands active"  data-tab_commands="learned">  Learned </div>
                                <div class="tab_button_commands"         data-tab_commands="pool">     Pool    </div>
                            </div>
                            <div class="new_tab_content">
                                <div class="new_tab_container tab_container_commands column active" data-tab_commands="learned">

                                    <input type="hidden" class="cp_animal_flag" name="attr_cp_animal_flag" value="" />
                                    <div class="cp_animal keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Animal</h6>
                                            <button name="act_animalDescriptionShow" type="action">
                                                <span name="attr_animalDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="animalDescriptionFlag" name="attr_animalDescriptionFlag" type="hidden" value="▼" />
                                        <div class="animalDescription">
                                            <fieldset class="repeating_keywordsAnimal">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_animal_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_animal_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="animalNoDescription">
                                            <fieldset class="repeating_keywordsAnimal noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_animal_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                    <input type="hidden" class="cp_person_flag" name="attr_cp_person_flag" value="" />
                                    <div class="cp_person keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Person</h6>
                                            <button name="act_personDescriptionShow" type="action">
                                                <span name="attr_personDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="personDescriptionFlag" name="attr_personDescriptionFlag" type="hidden" value="▼" />
                                        <div class="personDescription">
                                            <fieldset class="repeating_keywordsPerson">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_person_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_person_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="personNoDescription">
                                            <fieldset class="repeating_keywordsPerson noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_person_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                </div>
                                <div class="new_tab_container tab_container_commands column" data-tab_commands="pool">
                                    
                                    <div class="keywords_pool_selection">
                                        <div class="justify_content">
                                            <h6>Animal</h6>
                                            <button name="act_show_cp_animal" type="action">
                                                <span name="attr_cp_animal_flag"></span>
                                            </button>
                                        </div>
                                        <div class="justify_content">
                                            <h6>Person</h6>
                                            <button name="act_show_cp_person" type="action">
                                                <span name="attr_cp_person_flag"></span>
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="justify_content mb">
                            <h6>RHETORICS</h6>
                            <button name="act_show_rhetorics" type="action">
                                <span name="attr_rhetorics_flag"></span>
                            </button>
                        </div>
                        <input class="rhetorics_flag" name="attr_rhetorics_flag" type="hidden" value="●" />
                        <div class="rhetorics_block">
                            <div class="new_tab_buttons">
                                <div class="tab_button_rhetorics active"  data-tab_rhetorics="learned">  Learned </div>
                                <div class="tab_button_rhetorics"         data-tab_rhetorics="pool">     Pool    </div>
                            </div>
                            <div class="new_tab_content">
                                <div class="new_tab_container tab_container_rhetorics column active" data-tab_rhetorics="learned">

                                    <input type="hidden" class="rp_humor_flag" name="attr_rp_humor_flag" value="" />
                                    <div class="rp_humor keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Humor</h6>
                                            <button name="act_humorDescriptionShow" type="action">
                                                <span name="attr_humorDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="humorDescriptionFlag" name="attr_humorDescriptionFlag" type="hidden" value="▼" />
                                        <div class="humorDescription">
                                            <fieldset class="repeating_keywordsHumor">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_humor_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_humor_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="humorNoDescription">
                                            <fieldset class="repeating_keywordsHumor noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_humor_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                    <input type="hidden" class="rp_music_flag" name="attr_rp_music_flag" value="" />
                                    <div class="rp_music keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Music</h6>
                                            <button name="act_musicDescriptionShow" type="action">
                                                <span name="attr_musicDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="musicDescriptionFlag" name="attr_musicDescriptionFlag" type="hidden" value="▼" />
                                        <div class="musicDescription">
                                            <fieldset class="repeating_keywordsMusic">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_music_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_music_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="musicNoDescription">
                                            <fieldset class="repeating_keywordsMusic noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_music_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                    <input type="hidden" class="rp_persuade_flag" name="attr_rp_persuade_flag" value="" />
                                    <div class="rp_persuade keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Persuade</h6>
                                            <button name="act_persuadeDescriptionShow" type="action">
                                                <span name="attr_persuadeDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="persuadeDescriptionFlag" name="attr_persuadeDescriptionFlag" type="hidden" value="▼" />
                                        <div class="persuadeDescription">
                                            <fieldset class="repeating_keywordsPersuade">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_persuade_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_persuade_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="persuadeNoDescription">
                                            <fieldset class="repeating_keywordsPersuade noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_persuade_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                    <input type="hidden" class="rp_manipulation_flag" name="attr_rp_manipulation_flag" value="" />
                                    <div class="rp_manipulation keywords_pool block">
                                        <div class="justify_content mb">
                                            <h6>Manipulation</h6>
                                            <button name="act_manipulationDescriptionShow" type="action">
                                                <span name="attr_manipulationDescriptionFlag"></span>
                                            </button>
                                        </div>
                                        <input class="manipulationDescriptionFlag" name="attr_manipulationDescriptionFlag" type="hidden" value="▼" />
                                        <div class="manipulationDescription">
                                            <fieldset class="repeating_keywordsManipulation">
                                                <div class="keywords_element">
                                                    <input name="attr_keyword_manipulation_name" placeholder="Name" type="text" />
                                                    <textarea name="attr_keyword_manipulation_description" placeholder="Description"></textarea>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="manipulationNoDescription">
                                            <fieldset class="repeating_keywordsManipulation noRep">
                                                <div class="keywords_element">
                                                    <span name="attr_keyword_manipulation_name"></span>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>

                                </div>
                                <div class="new_tab_container tab_container_rhetorics column" data-tab_rhetorics="pool">
                                    
                                    <div class="keywords_pool_selection">
                                        <div class="justify_content">
                                            <h6>Humor</h6>
                                            <button name="act_show_rp_humor" type="action">
                                                <span name="attr_rp_humor_flag"></span>
                                            </button>
                                        </div>
                                        <div class="justify_content">
                                            <h6>Music</h6>
                                            <button name="act_show_rp_music" type="action">
                                                <span name="attr_rp_music_flag"></span>
                                            </button>
                                        </div>
                                        <div class="justify_content">
                                            <h6>Persuade</h6>
                                            <button name="act_show_rp_persuade" type="action">
                                                <span name="attr_rp_persuade_flag"></span>
                                            </button>
                                        </div>
                                        <div class="justify_content">
                                            <h6>Manipulation</h6>
                                            <button name="act_show_rp_manipulation" type="action">
                                                <span name="attr_rp_manipulation_flag"></span>
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-container" data-tab="bio_info">
            <div class="justify_content">

                <div class="bioInfoColumn1 start">
                    <div class="spaceAround alignItems thickBorder">
                        <h6> <span class="nameHeading" name="attr_character_name"></span> </h6>
                        <h6> <div class="flex"><span>"</span><input class="nickname" name="attr_characterNickname" placeholder="Nickname" type="text" value="" /><span>"</span></div> </h6>
                    </div>
                    <div>
                        <h6> BACKGROUND </h6>
                        <textarea name="attr_background" placeholder="Background"></textarea>
                    </div>
                    <div>
                        <h6> GOALS </h6>
                        <fieldset class="repeating_goals">
                            <input class="goal interaction_border" name="attr_bioGoal" placeholder="Goal" type="text" value="" />
                        </fieldset>
                    </div>
                </div>

                <div class="bioInfoColumn2 next">
                    <!-- <h6> RANK: </h6> -->
                    <div class="spaceAround alignItems thickBorder">

                        <select name="attr_grade">
                            <option> Grade </option>
                            <option> Aspirant </option>
                            <option> Bachelor </option>
                            <option> Elite </option>
                            <option> Scholar </option>
                            <option> Master </option>
                        </select>

                        <select name="attr_characterRank">
                            <option> Rank                       </option>
                            <option> Soldier | Military         </option>
                            <option> Sentinel | Military        </option>
                            <option> Knight | Military          </option>
                            <option> Special Unit | Military    </option>
                            <option> Lieutenant | Military      </option>
                            <option> Commander | Military       </option>
                            <option> General | Military         </option>
                            <option> Admiral | Military         </option>
                            <option> Baron | Noble              </option>
                            <option> Earl | Noble               </option>
                            <option> Prince | Noble             </option>
                            <option> Duke | Noble               </option>
                            <option> King | Noble               </option>
                            <option> Emperor | Noble            </option>
                            <option> Dishonorable | Job         </option>
                            <option> Lower Literature | Job     </option>
                            <option> Solitude | Job             </option>
                            <option> Unpleasant | Job           </option>
                            <option> Craftsmanship | Job        </option>
                            <option> Agriculture | Job          </option>
                            <option> Higher Literature | Job    </option>
                            <option> Science | Job              </option>
                        </select>

                        <div class="justify_content" style="width: 40px; align-items: center;">
                            <span name="attr_rankNumber"></span>
                            <input class="rankPretending" name="attr_rankPretending" style="width: 24px;" type="number" value="" />
                        </div>
                    </div>

                    <div class="centered">
                        <img class="mb" name="attr_character_avatar">
                    </div>

                    <div>
                        <h6> RACE </h6>
                        <input name="attr_bioRace" type="text" value="" />
                    </div>
                </div>

                <div class="bioInfoColumn3 end">
                    <h6> AGENDA </h6>
                    <div class="backgroundColor mbBig">
                        <div class="new_tab_buttons">
                            <div class="tab_button_agenda active"  data-tab_agenda="Alignment"> Alignment </div>
                            <div class="tab_button_agenda"         data-tab_agenda="Frailty"> Frailty </div>
                            <div class="tab_button_agenda"         data-tab_agenda="Affected"> Affected </div>
                        </div>
                        <div class="new_tab_content">
                            <div class="new_tab_container tab_container_agenda active" data-tab_agenda="Alignment">
                                <div class="agendaContainer">
                                    <fieldset class="repeating_agendaAlignment">
                                        <div class="justify_content">
                                            <input class="number" name="attr_agendaAlignmentNumber" type="number" value="1" />
                                            <input name="attr_agendaAlignment" placeholder="Add alignment" type="text" value="" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            
                            <div class="new_tab_container tab_container_agenda" data-tab_agenda="Frailty">
                                <div class="agendaContainer">
                                    <fieldset class="repeating_agendaFrailty">
                                        <div class="justify_content">
                                            <input class="number" name="attr_agendaFrailtyNumber" type="number" value="1" />
                                            <input name="attr_agendaFrailty" placeholder="Add frailty" type="text" value="" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            
                            <div class="new_tab_container tab_container_agenda" data-tab_agenda="Affected">
                                <div class="agendaContainer">
                                    <fieldset class="repeating_agendaAffected">
                                        <div class="justify_content">
                                            <input class="number" name="attr_agendaAffectedNumber" type="number" value="1" />
                                            <input name="attr_agendaAffected" placeholder="Add affected" type="text" value="" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                    </div> 

                    <div>
                        <h6> Relationships </h6>
                        <div class="justify_content border">
                            <input name="attr_relationshipLetter" type="hidden" value="B" />
                            <input class="relationshipName" name="attr_relationshipName" placeholder="Name" type="text" value="" />
                            <button class="relationshipE" name="act_relationshipE" type="action"> E </button>
                            <button class="relationshipD" name="act_relationshipD" type="action"> D </button>
                            <button class="relationshipC" name="act_relationshipC" type="action"> C </button>
                            <button class="relationshipB" name="act_relationshipB" type="action"> B </button>
                            <button class="relationshipA" name="act_relationshipA" type="action"> A </button>
                            <button class="relationshipS" name="act_relationshipS" type="action"> S </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- THIS WORKS BUT I DO NOT LIKE IT
<input name="attr_text1"                type="hidden"   value="">
<input name="attr_text2"                type="hidden"   value="">
<input name="attr_text3"                type="hidden"   value="">
<input name="attr_text4"                type="hidden"   value="">
<input name="attr_text5"                type="hidden"   value="">
<input name="attr_text6"                type="hidden"   value="">
-->

<input name="attr_skill_sel"            type="hidden"   value="Skill 1">
<input name="attr_skill_sel_val"        type="hidden"   value="value">

<input name="attr_trait_name"           type="hidden"   value="Trait">
<input name="attr_trait_talents"        type="hidden"   value="">

<input name="attr_session_number"       type="hidden"   value="0">

<input name="attr_time_day"             type="hidden"   value="9">
<input name="attr_time_month"           type="hidden"   value="5">
<input name="attr_time_year"            type="hidden"   value="234">

<input name="attr_xp"                   type="hidden"   value="0">
<input name="attr_needed_xp"            type="hidden"   value="24">

<input name="attr_health_reg_percent"   type="hidden"   value="5">  <!-- Currently not in use. In future: user for food -->

<input name="attr_health_count"         type="hidden"   value="0">

<input name="attr_stamina"              type="hidden"   value="2">

<input name="attr_endurance"            type="hidden"   value="1">
<input name="attr_endurance_count"      type="hidden"   value="0">

<input name="attr_feet"                 type="hidden"   value="2">
<input name="attr_hands"                type="hidden"   value="100">

<input name="attr_speed"                type="hidden"   value="2">
<input name="attr_attack_speed"         type="hidden"   value="0">

<input name="attr_strength"             type="hidden"   value="20">
<input name="attr_strength_count"       type="hidden"   value="0">

<input name="attr_power"                type="hidden"   value="75">
<input name="attr_power_count"          type="hidden"   value="0">

<input name="attr_weapon_style"         type="hidden"   value="75">
<input name="attr_weapon_style_count"   type="hidden"   value="0">
<input name="attr_weapon_style_max"     type="hidden"   value="3">

<input name="attr_reflex"               type="hidden"   value="20">
<input name="attr_reflex_count"         type="hidden"   value="0">

<input name="attr_resistance"           type="hidden"   value="0">
<input name="attr_resistance_count"     type="hidden"   value="0">
<input name="attr_resistance_max"       type="hidden"   value="2">
<input name="attr_resistance_plus"      type="hidden"   value="10">

<input name="attr_negative_crit_chance" type="hidden"   value="5">      <!-- Currently not in use. In future: user for food -->

<input name="attr_physical"             type="hidden"   value="10.0">
<input name="attr_physical_count"       type="hidden"   value="0">
<input name="attr_physical_crit"        type="hidden"   value="5">
<input name="attr_physical_crit_count"  type="hidden"   value="0">

<input name="attr_mental"               type="hidden"   value="10.0">
<input name="attr_mental_count"         type="hidden"   value="0">
<input name="attr_mental_crit"          type="hidden"   value="5">
<input name="attr_mental_crit_count"    type="hidden"   value="0">

<input name="attr_social"               type="hidden"   value="10.0">
<input name="attr_social_count"         type="hidden"   value="0">
<input name="attr_social_crit"          type="hidden"   value="5">
<input name="attr_social_crit_count"    type="hidden"   value="0">

<input name="attr_p1_rank"              type="hidden"   value="0">
<input name="attr_p2_rank"              type="hidden"   value="0">
<input name="attr_p3_rank"              type="hidden"   value="0">
<input name="attr_p4_rank"              type="hidden"   value="0">
<input name="attr_p5_rank"              type="hidden"   value="0">
<input name="attr_m1_rank"              type="hidden"   value="0">
<input name="attr_m2_rank"              type="hidden"   value="0">
<input name="attr_m3_rank"              type="hidden"   value="0">
<input name="attr_m4_rank"              type="hidden"   value="0">
<input name="attr_m5_rank"              type="hidden"   value="0">
<input name="attr_s1_rank"              type="hidden"   value="0">
<input name="attr_s2_rank"              type="hidden"   value="0">
<input name="attr_s3_rank"              type="hidden"   value="0">
<input name="attr_s4_rank"              type="hidden"   value="0">
<input name="attr_s5_rank"              type="hidden"   value="0">

<input name="attr_talent_list"              type="hidden"   value="">
<input name="attr_finished_trait_list"      type="hidden"   value="">
<input name="attr_unfinished_trait_list"    type="hidden"   value="">

<input name="attr_t_race_human"             type="hidden"   value="x">
<input name="attr_t_race_human_next"        type="hidden"   value="n">
<input name="attr_t_race_pnaevaru"          type="hidden"   value="x">
<input name="attr_t_race_pnaevaru_next"     type="hidden"   value="n">
<input name="attr_t_corrupt"                type="hidden"   value="x">
<input name="attr_t_corrupt_next"           type="hidden"   value="n">
<input name="attr_t_lawful"                 type="hidden"   value="x">
<input name="attr_t_lawful_next"            type="hidden"   value="n">
<input name="attr_t_chaotic"                type="hidden"   value="x">
<input name="attr_t_chaotic_next"           type="hidden"   value="n">
<input name="attr_t_benevolent"             type="hidden"   value="x">
<input name="attr_t_benevolent_next"        type="hidden"   value="n">
<input name="attr_t_ambitious"              type="hidden"   value="x">
<input name="attr_t_ambitious_next"         type="hidden"   value="n">
<input name="attr_t_prejudice"              type="hidden"   value="x">
<input name="attr_t_prejudice_next"         type="hidden"   value="n">
<input name="attr_t_evil"                   type="hidden"   value="x">
<input name="attr_t_evil_next"              type="hidden"   value="n">
<input name="attr_t_pride"                  type="hidden"   value="x">
<input name="attr_t_pride_next"             type="hidden"   value="n">
<input name="attr_t_idol"                   type="hidden"   value="x">
<input name="attr_t_idol_next"              type="hidden"   value="n">
<input name="attr_t_inquisitive"            type="hidden"   value="x">
<input name="attr_t_inquisitive_next"       type="hidden"   value="n">
<input name="attr_t_hypocrite"              type="hidden"   value="x">
<input name="attr_t_hypocrite_next"         type="hidden"   value="n">
<input name="attr_t_race_maledicti"         type="hidden"   value="x">
<input name="attr_t_race_maledicti_next"    type="hidden"   value="n">
<input name="attr_t_mastermind"             type="hidden"   value="x">
<input name="attr_t_mastermind_next"        type="hidden"   value="n">
<input name="attr_t_forecaster"             type="hidden"   value="x">
<input name="attr_t_forecaster_next"        type="hidden"   value="n">
<input name="attr_t_specialist"             type="hidden"   value="x">
<input name="attr_t_specialist_next"        type="hidden"   value="n">
<input name="attr_t_adventurer"             type="hidden"   value="x">
<input name="attr_t_adventurer_next"        type="hidden"   value="n">
<input name="attr_t_blacksmith"             type="hidden"   value="x">
<input name="attr_t_blacksmith_next"        type="hidden"   value="n">
<input name="attr_t_druid"                  type="hidden"   value="x">
<input name="attr_t_druid_next"             type="hidden"   value="n">
<input name="attr_t_socialite"              type="hidden"   value="x">
<input name="attr_t_socialite_next"         type="hidden"   value="n">
<input name="attr_t_caretaker"              type="hidden"   value="x">
<input name="attr_t_caretaker_next"         type="hidden"   value="n">
<input name="attr_t_expert"                 type="hidden"   value="x">
<input name="attr_t_expert_next"            type="hidden"   value="n">
<input name="attr_t_weapons_master"         type="hidden"   value="x">
<input name="attr_t_weapons_master_next"    type="hidden"   value="n">
<input name="attr_t_pioneer"                type="hidden"   value="x">
<input name="attr_t_pioneer_next"           type="hidden"   value="n">
<input name="attr_t_tradesman"              type="hidden"   value="x">
<input name="attr_t_tradesman_next"         type="hidden"   value="n">
<input name="attr_t_cartograph"             type="hidden"   value="x">
<input name="attr_t_cartograph_next"        type="hidden"   value="n">
<input name="attr_t_wanderer"               type="hidden"   value="x">
<input name="attr_t_wanderer_next"          type="hidden"   value="n">
<input name="attr_t_magus"                  type="hidden"   value="x">
<input name="attr_t_magus_next"             type="hidden"   value="n">

<input name="attr_armor_class"              type="hidden"   value="0">
<input name="attr_magic_class"              type="hidden"   value="0">

<input name="attr_block_physical"           type="hidden"   value="20">
<input name="attr_block_magical"            type="hidden"   value="0">
<input name="attr_dodge_physical"           type="hidden"   value="20">
<input name="attr_dodge_magical"            type="hidden"   value="0">

<input name="attr_magic_consumable"         type="hidden"   value="">

<input name="attr_numberRank"               type="hidden"   value="0" />

<script type="text/worker">
//    const section_attribute = (section, id, field) => `repeating_${section}_${id}_${field}`;
//    on('clicked:showDetailsFive', () => {
//        getSectionIDs('repeating_gear', id_gear => {
//            const fields = [];
//            id_gear.forEach(id => {
//                fields.push(section_attribute('gear', id, 'detailsFlag'));
//            });
//            getAttrs(fields, (v) => {
//                const currentFlag = v[fields[0]];
//                const newValue = (currentFlag == "1") ? "0" : "1";
//                fields.forEach(id => {
//                    setAttrs({
//                        [id]: newValue,
//                    });
//                });
//            });
//        });
//    });

    //////////
    // TEST //
    //////////

    on('clicked:test', (e) => {
        regenerate_health();
    });
    
    //////////
    // DATA //
    //////////

    const data = {
        base_shorts: {
            Attack: "Deal damage to an object or subject.",
            Background: "Gain knowledge about the history and location of an object or subject from the given category.",
            Climb: "Climb on a mountain, slope or tree.",
            Color: "Destroy an object or resource to create a matching color.",
            Craft: "Craft an item based on a recipe.",
            Description: "Gain knowledge of an object or subject from the given category.",
            Disregard: "Choose: \n - Prevent the effects of 'Agenda: Manipulation' on yourself until the end of your turn. \n - Silence the effects of 'Agenda: Manipulation' on yourself until the end of your turn.",
            Drive: "Gain control of a vehicle until the end of your action.",
            Fib: "Hide that target words you spoke were a lie.",
            Forge: "Forge an item based on a recipe.",
            Gestic: "Communicate silently with a person.",
            Harvest: "Mine an ore.",
            Hide: "Root yourself to grant yourself camouflage.",
            Instrument: "Innate: choose an Instrument. \n Play an instrument.",
            Investigate: "Search for an object or subject at a location.",
            Joke: "Do NPCs and Players need to find you funny?",
            Meal: "Combine 2 basic food items.",
            none: "none",
            "Read & Write": "Choose: \n - Write down words. \n - Gain knowledge about written words.",
            Receive: "Catch, grab or hold an item.",
            Ride: "Gain control of an animal until the end of your action.",
            Swim: "Move X through water. You can't drown until the end of your action.",
        },
        foods: {
            animal_products: {
                category: "mental",
                description: "+5% Mental Hit Chance",
                plus: true,
                value: 5,
            },
            fruits: {
                category: "feet_bonus",
                description: "+1 Feet-Agility",
                plus: true,
                value: 1,
            },
            grain: {
                category: "physical",
                description: "+5% Physical Hit Chance",
                plus: true,
                value: 5,
            },
            liquid: {
                category: "health_reg_percent",
                description: "+5% Health Regeneration",
                plus: true,
                value: 5,
            },
            meat_animal: {
                category: "negative_crit_chance",
                description: "-2% negative Crit Chance",
                plus: false,
                value: 2,
            },
            meat_monster: {
                category: "ad",
                description: "+1 aD",
                plus: true,
                value: 1,
            },
            meat_human_pnaevaru: {
                category: "health",
                description: "-10 Health",
                plus: false,
                value: 10,
            },
            monster_products: {
                category: "social",
                description: "+5% Social Hit Chance",
                plus: true,
                value: 5,
            },
            vegetable: {
                category: "endurance",
                description: "+0.5 Endurance",
                plus: true,
                value: 0.5,
            },
        },
        green_words: {
            Ability: "You can learn abilities based on the given category.",
            Adapt: "Select a Short from your bench.",
            Agenda: "Gain knowledge about the given category of a subject.",
            Artist: "Destroy a color item to create or upgrade an item.",
            Assist: "Grant a person advantage with a talent you have learned until the end of your turn.",
            Aura: "You can prevent magic based on the learned abilities from the ability category 'Seal'.",
            Background: "Gain knowledge about the history and location of an object or subject from the given category.",
            Bard: "Create a song based on a story.",
            Beam: "Fire a Lightbeam at a subject to heal it or deal damage to it.",
            Bite: "Deal damage to a subject and roll a random wound-effect.",
            Block: "Using an object, reduce the incoming damage from an object or subject.",
            Cleanse: "Silence all wound-effects of a subject.",
            Code: "Hide bonus information in spoken or written words.",
            Command: "Innate: You can learn commands based on the given category. \n Force a subject to follow your command based on the given category.",
            Cover: "Grant an object camouflage.",
            Dealer: "Grant a value to an item you have created.",
            Decode: "Get a hint for a riddle or unspecific knowledge.",
            Detain: "Catch, grab or hold a subject.",
            Dive: "Dive X through water. Gain X vision under water until the end of your turn.",
            Dodge: "Reduce the incoming damage from an object or subject towards you.",
            Durable: "Craft an item based on a recipe that resists durability damage.",
            Effects: "Gain knowledge about the buffs and nerfs of an object, subject or ability from the given category.",
            Finesse: "Craft an item based on a recipe with less durability but better stats.",
            "First Aid": "Heal a person based on its missing Health (once per day).",
            Fly: "Move X. You gain the keyword 'Flying' until the end of your turn.",
            Forward: "Use the given talent with advantage.",
            Gaess: "Pen & Paper start: select a Gaess. \n You can activate and deactivate your Gaess.",
            Hook: "Pull an enemy towards you.",
            Identify: "Convince an NPC that you are a specific noble.",
            Imitate: "Imitate a person to gain some of their keywords.",
            Improvise: "Use an obstacle.",
            Instinct: "Get a hint from the GM at a location.",
            Interpreter: "Translate spoken or written words in a language you have learned.",
            Intimidate: "A subject of your choice can't initiate a combat.",
            Jump: "Ignore an obstacle.",
            Job: "Pen & Paper start: select a Job. \n Use either the first or the second Short that represents your job.",
            Keywords: "Innate: You can learn keywords based on the given category. \n Grant yourself a keyword from the given category.",
            Knockback: "Kick an enemy in a direction of your choice.",
            Oath: "Swear on your honor to obey your words and NPC's will believe you. You (as a player) are not able/allowed to go back on your words.",
            Pass: "Throw an object at a location or subject.",
            Pharmacy: "Increase the healing of a subject until the end of your action.",
            Pickle: "Increase the durability of food.",
            Placeholder: "Use the selected Short from your bench.",
            Plant: "Destroy a seed to grow the specific plant.",
            Possess: "Take control of a subject.",
            Potion: "Brew a potion based on a recipe.",
            Preparation: "Separate eatable and non-eatable parts from an item.",
            Recycle: "Destroy an item to split it into its components or resources.",
            Repair: "Refresh the durability of an item.",
            Rhetoric: "Innate: you can learn stylistic devices. \n Manipulate the effects (or keywords) of a subject based on a stylistic device.",
            Rive: "Deal bonus damage based on the amount of your target's Shield.",
            Robust: "Forge an item based on a recipe that resists combat damage.",
            Sail: "Gain control of a boat until the end of your action.",
            Secret: "Grant your next action invisibility.",
            Sense: "Examine a location, object or subject for a magical source.",
            Shapeshift: "Switch your form of appearance.",
            Sidestep: "Reduce the damage from an object or subject towards you and move 1.",
            Skillshot: "Attack in a direction, dealing damage to the first enemy hit.",        
            Skin: "Separate skin, fur or scale from meat.",
            Slice: "Deal damage to a subject and put 3 Bleed-counter on it.",
            Snipe: "Deal bonus damage based on distance.",
            Stamina: "Your next ability costs less Stamina.",
            Volley: "Deal damage to all enemies at a location.",
            Stab: "Deal bonus damage based on your stealth.",
            Stats: "Gain knowledge about the numbers and keywords of an object or subject from the given category.",
            Strike: "Leap in a direction, dealing bonus damage based on your movement speed.",
            Swing: "Deal damage to all enemies around you.",
            Undercover: "Grant yourself camouflage.",
            "Upgrade (Counterfeiter)": "Grant your talents that can create items the Short: 'Copy'.",
            "Upgrade (Psychology)": "Grant your next usage of an Agenda Short increased information.",
            "Upgrade (Social-Group)": "Grant the given category +10% Hit Chance.",
            "Upgrade (Traits)": "Grant a person your weakest trait until the end of the day.",
            "Upgrade (Weaponmaster)": "Grant a 'Weapons:MASTER' talent a third Short for the next action.",
            Verify: "Check if an information is true or false based on the knowledge of your background, effects and stats.",
            Weather: "Gain knowledge about the current and upcoming weather.",
            Will: "Delete the effects of 'Agenda: Manipulation' on yourself.",
        },
        level_requirements: {
            2: 24,
            3: 40,
            4: 60,
            5: 84,
            6: 100
        },
        per_session: {
            tp: 10,
            xp: 4,
        },
        rank: {
            "Job": {
                "Agriculture": {
                    rank: 2,
                },
                "Craftsmanship": {
                    rank: 2,
                },
                "Dishonorable": {
                    rank: 0,
                },
                "Higher Literature": {
                    rank: 3,
                },
                "Lower Literature": {
                    rank: 1,
                },
                "Science": {
                    rank: 3,
                },
                "Solitude": {
                    rank: 1,
                },
                "Unpleasant": {
                    rank: 1,
                },
            },
            "Military": {
                "Admiral": {
                    rank: 10,
                },
                "Commander": {
                    rank: 8,
                },
                "General": {
                    rank: 10,
                },
                "Knight": {
                    rank: 5,
                },
                "Lieutenant": {
                    rank: 7,
                },
                "Sentinel": {
                    rank: 4,
                },
                "Soldier": {
                    rank: 3,
                },
                "Special Unit": {
                    rank: 6,
                },
            },
            "Noble": {
                "Baron": {
                    rank: 6,
                },
                "Duke": {
                    rank: 9,
                },
                "Earl": {
                    rank: 7,
                },
                "Emperor": {
                    rank: 11,
                },
                "King": {
                    rank: 11,
                },
                "Prince": {
                    rank: 8,
                },
            },
            "Rank": {
                rank: 0,
            },
        },
        skills: {
            acceleration: {
                combine: {
                    acceleration: "red_buff",
                    amplification: "giant_slayer",
                    balance: "nashors_tooth",
                    enhancement: "rageblade",
                    perseverance: "runaans_hurricane",
                    precision: "last_whisper",
                    resolve: "titans_resolve",
                    retention: "statikk_shiv",
                },
                name: "Acceleration",
                type: "base",
                value: "+10% Hand-Agility",
            },
            adaptive_helmet: {
                name: "Adaptive helmet",
                type: "combined",
                value: "+20% Resistance \n +1 Stamina \n \n The day is split in 3 phases. Gain a bonus based on the phase. \n Morning: Negative effects from this class are reduced by 25%. \n Afternoon: Gain an unspecific rhetoric. \n Night: Remove all negative effects from this class.",
            },
            amplification: {
                combine: {
                    acceleration: "giant_slayer",
                    amplification: "death_blade",
                    balance: "steraks_gage",
                    enhancement: "hextech_gunblade",
                    perseverance: "bloodthirster",
                    precision: "infinity_edge",
                    resolve: "edge_of_night",
                    retention: "spear_of_shojin",
                },
                name: "Amplification",
                type: "base",
                value: "+10% Style",
            },
            aptitute_for_imitation: {
                name: "Aptitute for imitation",
                type: "combined",
                value: "+20% Crit Chance \n \n Each day equip 2 random skills (consumes 3 skill slots. The skill level improves with your level.)",
            },
            archangel_staff: {
                name: "Archangel staff",
                type: "combined",
                value: "+10 Power \n +1 Stamina \n \n Gain 15% Style and 15% Power. Generate a shield of 6 per action from this class. Each day randomly increase one of this effects by 33%.",
            },
            balance: {
                combine: {
                    acceleration: "nashors_tooth",
                    amplification: "steraks_gage",
                    balance: "warmogs_armor",
                    enhancement: "morellonomicon",
                    perseverance: "even_shroud",
                    precision: "guard_breaker",
                    resolve: "sunfire_cape",
                    retention: "redemption",
                },
                name: "Balance",
                type: "base",
                value: "+5% Hit Chance",
            },
            bloodthirster: {
                name: "Bloodthirster",
                type: "combined",
                value: "+10% Style \n +20% Resistance \n \n Items from this class gain a random fitting keyword while you use them.",
            },
            blue_buff: {
                name: "Blue buff",
                type: "combined",
                value: "+2 Stamina \n \n Grant a bonus based on the equipped class: \n Weapon and Physical: Gain 6 Strength and 15% Resistance. Refresh up to 1 Stamina whenever you got attacked last turn. \n Mental and Social: 20% Power and 2 Endurance",
            },
            bramble_vest: {
                name: "Bramble vest",
                type: "combined",
                value: "+6 Strength / +10 Reflex \n \n Gain 14 Strength or 13 Reflex based on the higher stat.",
            },
            crownguard: {
                name: "Crownguard",
                type: "combined",
                value: "+10 Power \n +3 Strength / +5 Reflex \n \n The day is split in 3 phases. Gain a bonus based on the phase. \n Morning: 10% Hit Chance for abilities from this class. \n Afternoon: Gain 15% Power. \n Night: Gain a shield (1% of your max health per talent of this class)",
            },
            death_blade: {
                name: "Death blade",
                type: "combined",
                value: "+20% Style \n \n Damage from this class deal an additional attack to a nearby enemy, dealing 40% of the normal damage.",
            },
            dragons_claw: {
                name: "Dragons claw",
                type: "combined",
                value: "+40% Resistance \n \n Resistance now additionally reduces incoming elemental damage.",
            },
            edge_of_night: {
                name: "Edge of night",
                type: "combined",
                value: "+10% Style \n +3 Strength / +5 Reflex \n \n Damage from this class ignores 30% of the enemy's Reflex. Deal additional 3-9 true damage on hit.",
            },
            enhancement: {
                combine: {
                    acceleration: "rageblade",
                    amplification: "hextech_gunblade",
                    balance: "morellonomicon",
                    enhancement: "rabadons_deathcap",
                    perseverance: "ionic_spark",
                    precision: "jeweled_gauntlet",
                    resolve: "crownguard",
                    retention: "archangel_staff",
                },
                name: "Enhancement",
                type: "base",
                value: "+10 Power",
            },
            even_shroud: {
                name: "Even shroud",
                type: "combined",
                value: "+5% Hit Chance \n +20% Resistance \n \n Commands and rhetorics gain 10% Hit Chance.",
            },
            gargoyles_stoneplate: {
                name: "Gargoyles stoneplate",
                type: "combined",
                value: "+20% Resistance \n +3 Strength / +5 Reflex \n \n After sleeping gain a spellshield (1% of your max health). As long as you are protected by a spellshield allies are not effected by negative on hit effects.",
            },
            giant_slayer: {
                name: "Giant slayer",
                type: "combined",
                value: "+10% Hand-Agility \n +10% Style \n \n Abilities and attacks deal 10%/30% more damage to enemies with more than 750 / 1500 maximum health.",
            },
            guard_breaker: {
                name: "Guard breaker",
                type: "combined",
                value: "+5% Hit Chance \n +10% Crit Chance \n \n After eating, your next successful action from this class is guaranteed to crit. Additionally, the 16 is a natural hit and the 19 is a natural crit.",
            },
            hand_of_justice: {
                name: "Hand of justice",
                type: "combined",
                value: "+10% Crit Chance \n +1 Stamina \n \n Per day: choose 'aggro' or 'support'. Based on your choice, manipulations from this class deal true damage on hit or heal (3 per talent from this class.)", 
            },
            hextech_gunblade: {
                name: "Hextech gunblade",
                type: "combined",
                value: "+10% Style \n +10 Power \n \n Attacks from this class deal additional 12-24 magical damage on hit.",
            },
            infinity_edge: {
                name: "Infinity edge",
                type: "combined",
                value: "+10% Style \n +10% Crit Chance \n \n Dealing damage with this class reduces the enemy's defense by 30% until the end of the next turn.",
            },
            ionic_spark: {
                name: "Ionic",
                type: "combined",
                value: "+10 Power \n +20% Resistance \n \n Abilities from this class that target an enemy effect them with soul-fire for 2 turns.",
            },
            jeweled_gauntlet: {
                name: "Jeweled gauntlet",
                type: "combined",
                value: "+10 Power \n +10% Crit Chance \n \n Abilities from this class can critically hit. Abilities from this class profit from this talent class' crit chance.",
            },
            last_whisper: {
                name: "Last whisper",
                type: "combined",
                value: "+10% Hand-Agility \n +10% Crit Chance \n \n Wearing specific workwear gives you +10% Hit Chance and +5% Crit Chance for actions of this work.",
            },
            morellonomicon: {
                name: "Morellonomicon",
                type: "combined",
                value: "+5% Hit Chance \n +10 Power \n \n Per day: Choose 'heal' or 'damage'. Based on your choice ally manipulations gain 20% heal power or enemy manipulations deal 5-15 emotional damage on hit.",
            },
            nashors_tooth: {
                name: "Nashors tooth",
                type: "combined",
                value: "+10% Hand-Agility \n +5% Hit Chance \n \n Effects of items from this class are increased by 50%.",
            },
            perseverance: {
                combine: {
                    acceleration: "runaans_hurricane",
                    amplification: "bloodthirster",
                    balance: "even_shroud",
                    enhancement: "ionic_spark",
                    perseverance: "dragons_claw",
                    precision: "quicksilver",
                    resolve: "gargoyles_stoneplate",
                    retention: "adaptive_helmet",
                },
                name: "Perseverance",
                type: "base",
                value: "+20% Resistance",
            },
            precision: {
                combine: {
                    acceleration: "last_whisper",
                    amplification: "infinity_edge",
                    balance: "guard_breaker",
                    enhancement: "jeweled_gauntlet",
                    perseverance: "quicksilver",
                    precision: "aptitute_for_imitation",
                    resolve: "steadfast_heart",
                    retention: "hand_of_justice",
                },
                name: "Precision",
                type: "base",
                value: "+10% Crit Chance",
            },
            protectors_vow: {
                name: "Protectors vow",
                type: "combined",
                value: "+3 Strength / +5 Reflex \n +1 Stamina \n \n The day is split in 3 phases. Gain a bonus based on the phase. \n Morning: Gain a shield (2% of your max health). \n Afternoon: Gain 5 Strength or 15% Style based on the higher stat. \n Night: Regenerate 5% max Health per talent from this class.",
            },
            quicksilver: {
                name: "Quicksilver",
                type: "combined",
                value: "+20% Resistance \n +10% Crit Chance \n \n Manipulations from this class last longer if they strike critically. Talents from this class profit from this talent class' Crit chance.",
            },
            rabadons_deathcap: {
                name: "Rabadons deathcap",
                type: "combined",
                value: "+20 Power \n \n This class gains an additional 60% Power.",
            },
            rageblade: {
                name: "Rageblade",
                type: "combined",
                value: "+10% Hand-Agility \n +10 Power \n \n Per day: gain 5% Power per activated ability from this class, up to 10 stacks. At maximum stacks the effect of abilities is increased by 20%.",
            },
            red_buff: {
                name: "Red buff",
                type: "combined",
                value: "+20% Attack Speed \n \n Per day: Choose a keyword from this class. The effect is increased by 50%.",
            },
            runaans_hurricane: {
                name: "Runaans hurricane",
                type: "combined",
                value: "+10% Hand-Agility \n +20% Resistance \n \n Per day: Gain one Agenda vision through information gained by this class, up to 10 stacks. At maximum stacks you gain a spellshield.",
            },
            redemption: {
                name: "Redemption",
                type: "combined",
                value: "+5% Hit Chance \n +1 Stamina \n \n After drinking gain 1 Stamina until the end of your turn and 5% Hit Chance for your next action.",
            },
            resolve: {
                combine: {
                    acceleration: "titans_resolve",
                    amplification: "edge_of_night",
                    balance: "sunfire_cape",
                    enhancement: "crownguard",
                    perseverance: "gargoyles_stoneplate",
                    precision: "steadfast_heart",
                    resolve: "bramble_vest",
                    retention: "protectors_vow",
                },
                name: "Resolve",
                type: "base",
                value: "+3 Strength / +5 Reflex",
            },
            retention: {
                combine: {
                    acceleration: "statikk_shiv",
                    amplification: "spear_of_shojin",
                    balance: "redemption",
                    enhancement: "archangel_staff",
                    perseverance: "adaptive_helmet",
                    precision: "hand_of_justice",
                    resolve: "protectors_vow",
                    retention: "blue_buff",
                },
                name: "Retention",
                type: "base",
                value: "+1 Stamina",
            },
            spear_of_shojin: {
                name: "Spear of shojin",
                type: "combined",
                value: "+10% Style \n +1 Stamina \n \n Attacks reduce the cooldown of abilities from this class based on the result of the dice roll.",
            },
            statikk_shiv: {
                name: "Statikk shiv",
                type: "combined",
                value: "+10% Hand-Agility \n +1 Stamina \n \n Effects from consume-items from this class are increased by 50%.",
            },
            steadfast_heart: {
                name: "Steadfast heart",
                type: "combined",
                value: "+10% Crit Chance \n +3 Strength / +5 Reflex \n \n Actions from this class have an improved critical hit effect. Talents from this class profit from this talent class' critical chance.",
            },
            steraks_gage: {
                name: "Steraks gage",
                type: "combined",
                value: "+10% Style \n +5% Hit Chance \n \n Once per day: At 50% health remove all negative effects from you. You gain 10% Hit Chance for your next 3 actions.",
            },
            sunfire_cape: {
                name: "Sunfire cape",
                type: "combined",
                value: "+5% Hit Chance \n +3 Strength / +5 Reflex \n \n Talents from this class that produce something need 5% less resources per talent learned.",
            },
            titans_resolve: {
                name: "Titans resolve",
                type: "combined",
                value: "+10% Hand-Agility \n +3 Strength / +5 Reflex \n \n Per day: Gain 2 Reflex per action from this class, up to 13 stacks. At maximum stacks gain 15% Attack Speed and 15% Resistance.",
            },
            warmogs_armor: {
                name: "Warmogs armor",
                type: "combined",
                value: "+10% Hit Chance \n \n This talent class gains 5% Hit Chance for information checks per talent in another talent class.",
            },
        },
        stats: {
            health: {
                base: 450,
                max_ad: 13,
                name: "Health",
                per_ad: 150,
                per_level: 50,
            },
            stamina: {
                base: 2,
                max_ad: -1,
                name: "Stamina",
                per_ad: 0,
                per_level: 1,
            },
            endurance: {
                base: 1,
                max_ad: 13,
                name: "Endurance",
                per_ad: 1,
                per_level: 0,
            },
            strength: {
                base: 20,
                max_ad: 13,
                name: "Strength",
                per_ad: 3,
                per_level: 0,
            },
            power: {
                base: 75,
                max_ad: 13,
                name: "Power",
                per_ad: 5,
                per_level: 0,
            },
            weapon_style: {
                base: 75,
                max_per_level: 3,
                name: "Weapon Style",
                per_ad: 5,
                per_level: 0,
            },
            reflex: {
                base: 20,
                max_ad: 13,
                name: "Reflex",
                per_ad: 7,
                per_level: 0,
            },
            resistance: {
                base: 0,
                max_per_level: 2,
                name: "Resistance",
                per_ad: [10, 15, 20, 25, 30],
                per_level: 0,
            },
            physical: {
                base: 10,
                max_ad: 13,
                name: "Physical",
                per_ad: 2.5,
                per_level: 0,
            },
            mental: {
                base: 10,
                max_ad: 13,
                name: "Mental",
                per_ad: 2.5,
                per_level: 0,
            },
            social: {
                base: 10,
                max_ad: 13,
                name: "Social",
                per_ad: 2.5,
                per_level: 0,
            },
            physical_crit: {
                base: 5,
                max_ad: 13,
                name: "Physical Crit",
                per_ad: 4,
                per_level: 0,
            },
            mental_crit: {
                base: 5,
                max_ad: 13,
                name: "Mental Crit",
                per_ad: 4,
                per_level: 0,
            },
            social_crit: {
                base: 5,
                max_ad: 13,
                name: "Social Crit",
                per_ad: 4,
                per_level: 0,
            }
        },
        talents: {
            "": {
                rank: 0,
                traits: [],
            },
            act: {
                base_short: "none",
                green1: "Ability: Roleplay",
                green2: "Imitate",
                name: "Act",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["hypocrite", "socialite"],
            },
            adaptation: {
                base_short: "none",
                green1: "Adapt",
                green2: "Placeholder: Bench",
                name: "Adaptation",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["pride", "mastermind"],
            },
            animal_handling: {
                base_short: "Ride",
                green1: "Ability: Animal",
                green2: "Command: Animal",
                name: "Animal Handling",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["chaotic", "caretaker"],
            },
            appearance: {
                base_short: "none",
                green1: "Intimidate",
                green2: "Keywords: Presence",
                name: "Appearance",
                orange: ["Expert", "Animals and Monsters with lesser level than you fear you and won't initiate a combat."],
                rank: 3,
                red: ["none"],
                traits: ["hypocrite", "expert"],
            },
            art: {
                base_short: "Color",
                green1: "Artist",
                green2: "Upgrade (Counterfeiter)",
                name: "Art",
                orange: ["none"],
                rank: 1,
                red: ["Copy: Artist", "Create a copy of an item from the given category."],
                traits: ["pride", "tradesman"],
            },
            assassin: {
                base_short: "Attack",
                green1: "Secret",
                green2: "Stab",
                name: "Assassin",
                orange: ["none"],
                rank: 5,
                red: ["Pierce (Weaponist)", "Deal bonus damage based on your missing Health."],
                traits: ["evil", "prejudice", "weapons_master"],
            },
            awareness: {
                base_short: "Background: World",
                green1: "Verify",
                green2: "Weather",
                name: "Awareness",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["lawful", "druid"],
            },
            brawler: {
                base_short: "Attack",
                green1: "Block",
                green2: "Detain",
                name: "Brawler",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["evil", "blacksmith"],
            },
            brew: {
                base_short: "none",
                green1: "Effects: Potions",
                green2: "Potion",
                name: "Brew",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["inquisitive", "druid"],
            },
            cavalry: {
                base_short: "Ride",
                green1: "Forward: Ride",
                green2: "Intimidate",
                name: "Cavalry",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["ambitious", "caretaker"],
            },
            charisma: {
                base_short: "none",
                green1: "Ability: Manipulation,",
                green2: "Agenda: Affected",
                name: "Charisma",
                orange: ["Pioneer"],
                rank: 4,
                red: ["Wacky Upgrade, Charm", "Ignore all instances of 'specific' that refer to stylistic devices. \n Trick a person to bond with you based on the Agenda compatibility."],
                traits: ["hypocrite", "pioneer"],
            },
            claws_fangs: {
                base_short: "Attack",
                green1: "Bite",
                green2: "Slice",
                name: "Claws & Fangs",
                orange: ["Magus"],
                rank: 2,
                red: ["Enhancement", "All your attacks deal an additional X magic damage."],
                traits: ["race_maledicti", "magus"],
            },
            cook: {
                base_short: "Meal",
                green1: "Pickle",
                green2: "Preparation",
                name: "Cook",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["lawful", "caretaker"],
            },
            craft: {
                base_short: "Craft",
                green1: "Durable: Craft",
                green2: "Stats: Wood & Fiber",
                name: "Craft",
                orange: ["Pioneer"],
                rank: 3,
                red: ["Wacky Upgrade, Repair", "You can now build based on base_shortprints. \n Refresh the durability of an item. \n \n TODO"],
                traits: ["idol", "pioneer"],
            },
            diplomacy: {
                base_short: "Fib",
                green1: "Rhetoric: Persuade",
                green2: "Dealer",
                name: "Diplomacy",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["corrupt", "tradesman"],
            },
            expression: {
                base_short: "Gestic",
                green1: "Command: Person",
                green2: "Rhetoric: Manipulation",
                name: "Expression",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["pride", "socialite"],
            },
            fabled: {
                base_short: "Description: Magic",
                green1: "Effects: Magic",
                green2: "Sense",
                name: "Fabled",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["race_maledicti", "cartograph"],
            },
            fauna: {
                base_short: "Description: Animal",
                green1: "Background: Animal",
                green2: "Stats: Animal",
                name: "Fauna",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["pride", "cartograph"],
            },
            flight: {
                base_short: "none",
                green1: "Ability: Maneuver (Fly)",
                green2: "Fly",
                name: "Flight",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["race_maledicti", "wanderer"],
            },
            flora: {
                base_short: "Description: Plant",
                green1: "Background: Plant",
                green2: "Effects: Plant",
                name: "Flora",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["ambitious", "cartograph"],
            },
            forge: {
                base_short: "Forge",
                green1: "Repair",
                green2: "Robust",
                name: "Forge",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["benevolent", "blacksmith"],
            },
            furtiveness: {
                base_short: "Hide",
                green1: "Cover",
                green2: "Undercover",
                name: "Furtiveness",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["corrupt", "adventurer"],
            },
            herbs: {
                base_short: "Description: Plant",
                green1: "Plant",
                green2: "Preparation",
                name: "Herbs",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["chaotic", "druid"],
            },
            humor: {
                base_short: "Joke",
                green1: "Rhetoric: Humor",
                green2: "Upgrade (Social-Group)",
                name: "Humor",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["idol", "socialite"],
            },
            knight: {
                base_short: "Attack",
                green1: "Slice",
                green2: "Swing",
                name: "Knight",
                orange: ["none"],
                rank: 5,
                red: ["Parry (Weaponist)", "Block an amount of damage to deal half the amount."],
                traits: ["idol", "prejudice", "weapons_master"],
            },
            lancer: {
                base_short: "Attack",
                green1: "Skillshot",
                green2: "Strike",
                name: "Lancer",
                orange: ["none"],
                rank: 4,
                red: ["Focus (Weaponist)", "Deal bonus damage while to a subject that is CC'ed."],
                traits: ["ambitious", "weapons_master"],
            },
            language: {
                base_short: "Fib",
                green1: "Decode",
                green2: "Interpreter",
                name: "Language",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["ambitious", "cartograph"],
            },
            maledicti: {
                base_short: "Description: Maledicti",
                green1: "Background: Maledicti",
                green2: "Stats: Maledicti",
                name: "Maledicti",
                orange: ["Pioneer"],
                rank: 2,
                red: ["Wacky Upgrade, Effects: Pnaevaru", "Exchange all instances of Maledicti with Pnaevaru. \n Gain knowledge about the buffs and nerfs of an object, subject or ability from the given category."],
                traits: ["corrupt", "pioneer"],
            },
            marksman: {
                base_short: "Attack",
                green1: "Snipe",
                green2: "Volley",
                name: "Marksman",
                orange: ["none"],
                rank: 3,
                red: ["Headshot (Weaponist)", "Deal bonus damage based on your dice roll."],
                traits: ["pride", "weapons_master"],
            },
            martial_arts: {
                base_short: "none",
                green1: "Ability: Combat",
                green2: "Keywords: Combat",
                name: "Martial Arts",
                orange: ["Expert", "You can learn non-specific keywords."],
                rank: 5,
                red: ["none"],
                traits: ["chaotic", "expert"],
            },
            materials: {
                base_short: "Description: Resource",
                green1: "Background: Resource",
                green2: "Stats: Resource",
                name: "Materials",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["lawful", "adventurer"],
            },
            medicine: {
                base_short: "none",
                green1: "First Aid",
                green2: "Pharmacy",
                name: "Medicine",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["benevolent", "druid"],
            },
            mine: {
                base_short: "Harvest: Ore",
                green1: "Keywords: Loot",
                green2: "Recycle",
                name: "Mine",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["benevolent", "adventurer"],
            },
            mold: {
                base_short: "Forge",
                green1: "Durable: Forge",
                green2: "Stats: Ore",
                name: "Mold",
                orange: ["none"],
                rank: 1,
                red: ["Copy: Forge", "Create a copy of an item from the given category."],
                traits: ["ambitious", "blacksmith"],
            },
            movement: {
                base_short: "Climb",
                green1: "Dodge",
                green2: "Jump",
                name: "Movement",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["ambitious", "wanderer"],
            },
            music: {
                base_short: "Instrument",
                green1: "Bard",
                green2: "Rhetoric: Music",
                name: "Music",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["idol", "tradesman"],
            },
            mystic: {
                base_short: "Description: Monster",
                green1: "Background: Monster",
                green2: "Stats: Monster",
                name: "Mystic",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["evil", "cartograph"],
            },
            na: {
                rank: 0,
                traits: [],
            },
            noble: {
                base_short: "none",
                green1: "Identify",
                green2: "Oath",
                name: "Noble",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["pride", "tradesman"],
            },
            nurse: {
                base_short: "none",
                green1: "Ability: Operation",
                green2: "Cleanse",
                name: "Nurse",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["benevolent", "caretaker"],
            },
            occupation: {
                base_short: "none",
                green1: "Ability: Job",
                green2: "Job",
                name: "Occupation",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["lawful", "tradesman"],
            },
            parkour: {
                base_short: "Climb",
                green1: "Improvise",
                green2: "Sidestep",
                name: "Parkour",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["chaotic", "wanderer"],
            },
            perception: {
                base_short: "Investigate",
                green1: "Agenda: Alignment",
                green2: "Instinct",
                name: "Perception",
                orange: ["Magus"],
                rank: 4,
                red: ["Enhancement", "Choose: \n - Gain Nightvision until the end of your turn. \n - Use X-Ray on an object."],
                traits: ["inquisitive", "magus"],
            },
            pnaevaru_breath: {
                base_short: "Attack",
                green1: "Ability: Posture",
                green2: "Stamina",
                name: "Breath (Schlaechter)",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            pnaevaru_cogium: {
                base_short: "Attack",
                green1: "Ability: Cogium",
                green2: "Shapeshift",
                name: "Cogium (Paerussa)",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            pnaevaru_might: {
                base_short: "none",
                green1: "Background: Gaesser",
                green2: "Gaess",
                name: "Might (Gaesser)",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            pnaevaru_nullify: {
                base_short: "none",
                green1: "Ability: Seal",
                green2: "Aura",
                name: "Nullify (Taellubrix)",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            pnaevaru_oblige: {
                base_short: "none",
                green1: "Ability: Commandment",
                green2: "Possess",
                name: "Oblige (Paerduan)",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            pnaevaru_radiance: {
                base_short: "none",
                green1: "Ability: Light",
                green2: "Beam",
                name: "Radiance (Praeven)",
                orange: ["Expert", "Gain the keyword '<Shroud>'. \n \n TODO"],
                rank: 5,
                red: ["none"],
                traits: ["race_pnaevaru", "specialist"],
            },
            profile: {
                base_short: "none",
                green1: "Agenda: Frailty",
                green2: "Upgrade (Psychology)",
                name: "Profile",
                orange: ["none"],
                rank: 3,
                red: ["none"],
                traits: ["inquisitive", "socialite"],
            },
            sail: {
                base_short: "Drive",
                green1: "Ability: Maneuver (Watercraft)",
                green2: "Sail",
                name: "Sail",
                orange: ["Expert", "You can always moor and leave ports easily."],
                rank: 1,
                red: ["none"],
                traits: ["inquisitive", "expert"],
            },
            self_control: {
                base_short: "Disregard",
                green1: "Agenda: Affected",
                green2: "Will",
                name: "Self-Control",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["idol", "blacksmith"],
            },
            soldier: {
                base_short: "Attack",
                green1: "Hook",
                green2: "Rive",
                name: "Soldier",
                orange: ["none"],
                rank: 3,
                red: ["Shieldbreaker (Weaponist)", "Deal instant damage to the target's Health instead of the target's Shield."],
                traits: ["lawful", "weapons_master"],
            },
            stasi_voli: {
                base_short: "Attack",
                green1: "Ability: Magic",
                green2: "Keywords: Magic",
                name: "Stasi Voli",
                orange: ["Expert", "You gain Magic Resistance."],
                rank: 4,
                red: ["none"],
                traits: ["race_maledicti", "expert"],
            },
            swim: {
                base_short: "Swim",
                green1: "Dive",
                green2: "Keywords: Swim & Dive",
                name: "Swim",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["benevolent", "wanderer"],
            },
            tactics: {
                base_short: "none",
                green1: "Agenda: Combat",
                green2: "Weather",
                name: "Tactics",
                orange: ["Magus"],
                rank: 5,
                red: ["Enhancement", "Manipulate the upcoming weather."],
                traits: ["ambitious", "magus", "forecaster"],
            },
            teach: {
                base_short: "none",
                green1: "Assist",
                green2: "Upgrade (Traits)",
                name: "Teach",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["benevolent", "socialite"],
            },
            thief: {
                base_short: "Receive",
                green1: "Ability: Stealth",
                green2: "Secret",
                name: "Thief",
                orange: ["none"],
                rank: 4,
                red: ["none"],
                traits: ["evil", "adventurer"],
            },
            throw_catch: {
                base_short: "Receive",
                green1: "Detain",
                green2: "Pass",
                name: "Throw & Catch",
                orange: ["Pioneer"],
                rank: 2,
                red: ["Wacky Upgrade, Sling", "You can throw subjects. \n Throw an object at a subject to deal damage."],
                traits: ["benevolent", "pioneer"],
            },
            tinker: {
                base_short: "Craft",
                green1: "Finesse",
                green2: "Skin",
                name: "Tinker",
                orange: ["none"],
                rank: 1,
                red: ["Copy: Finesse", "Create a copy of an item from the given category."],
                traits: ["pride", "druid"],
            },
            tools: {
                base_short: "Description: Tools",
                green1: "Ability: Tools",
                green2: "Stats: Tools",
                name: "Tools",
                orange: ["none"],
                rank: 2,
                red: ["none"],
                traits: ["chaotic", "adventurer"],
            },
            tribal: {
                base_short: "Investigate",
                green1: "Background: Faction",
                green2: "Background: Underground",
                name: "Tribal",
                orange: ["none"],
                rank: 5,
                red: ["none"],
                traits: ["race_maledicti", "race_pnaevaru", "tradesman"],
            },
            vanguard: {
                base_short: "Attack",
                green1: "Block",
                green2: "Knockback",
                name: "Vanguard",
                orange: ["none"],
                rank: 2,
                red: ["Defender (Weaponist)", "Rush to an ally, granting yourself a Shield until the end of the turn."],
                traits: ["benevolent", "weapons_master"],
            },
            vocabulary: {
                base_short: "Read & Write",
                green1: "Forward: Read & Write",
                green2: "Code",
                name: "Vocabulary",
                orange: ["none"],
                rank: 1,
                red: ["none"],
                traits: ["inquisitive", "cartograph"],
            },
            weaponist: {
                base_short: "none",
                green1: "Ability: Weapons",
                green2: "Upgrade (Weaponmaster)",
                name: "Weaponist",
                orange: ["Expert", "Gain a permanent keyword based on your main weapon."],
                rank: 3,
                red: ["none"],
                traits: ["evil", "expert"],
            },
        },
        traits: {
            adventurer: {
                count: 0,
                name: "Adventurer",
                steps: [3,4,5],
            },
            ambitious: {
                count: 0,
                name: "Ambitious",
                steps: [3,6,9],
            },
            benevolent: {
                count: 0,
                name: "Benevolent",
                steps: [3,6,9],
            },
            blacksmith: {
                count: 0,
                name: "Blacksmith",
                steps: [2,3,4],
            },
            caretaker: {
                count: 0,
                name: "Caretaker",
                steps: [2,3,4,5],
            },
            cartograph: {
                count: 0,
                name: "Cartograph",
                steps: [2,3,4,5,6,7],
            },
            chaotic: {
                count: 0,
                name: "Chaotic",
                steps: [2,4,5],
            },
            corrupt: {
                count: 0,
                name: "Corrupt",
                steps: [2,3,4],
            },
            druid: {
                count: 0,
                name: "Druid",
                steps: [3,5,7],
            },
            evil: {
                count: 0,
                name: "Evil",
                steps: [3,5],
            },
            expert: {
                count: 0,
                name: "Expert",
                steps: [3,5,7],
            },
            forecaster: {
                count: 0,
                name: "Forecaster",
                steps: [1],
            },
            hypocrite: {
                count: 0,
                name: "Hypocrite",
                steps: [2,3,4],
            },
            idol: {
                count: 0,
                name: "Idol",
                steps: [3,6],
            },
            inquisitive: {
                count: 0,
                name: "Inquisitive",
                steps: [2,4,6],
            },
            lawful: {
                count: 0,
                name: "Lawful",
                steps: [2,4,6],
            },
            magus: {
                count: 0,
                name: "Magus",
                steps: [3],
            },
            mastermind: {
                count: 0,
                name: "Mastermind",
                steps: [1],
            },
            pioneer: {
                count: 0,
                name: "Pioneer",
                steps: [3,5],
            },
            prejudice: {
                count: 0,
                name: "Prejudice",
                steps: [1],
            },
            pride: {
                count: 0,
                name: "Pride",
                steps: [3,5,7,9],
            },
            race_human: {
                count: 0,
                name: "Race:Human",
                steps: [0],
            },
            race_pnaevaru: {
                count: 0,
                name: "Race:Pnaevaru",
                steps: [1],
            },
            race_maledicti: {
                count: 0,
                name: "Race:Maledicti",
                steps: [1,2,3,4,5],
            },
            race_pnaevaru: {
                count: 0,
                name: "Race:Pnaevaru",
                steps: [1],
            },
            socialite: {
                count:  0,
                name:   "Socialite",
                steps:  [2,4,6],
            },
            specialist: {
                count:  0,
                name:   "Specialist",
                steps:  [1],
            },
            tradesman: {
                count:  0,
                name:   "Tradesman",
                steps:  [2,4,6],
            },
            wanderer: {
                count:  0,
                name:   "Wanderer",
                steps:  [2,3,4],
            },
            weapons_master: {
                count:  0,
                name:   "Weapons:MASTER",
                steps:  [3,5],
            },
        },
        weapons: {
            "Fist": {
                damage:         0,
                defense:        0,
                dexterity:      100,
                durability:     0,
                effect:         "No effect",
                grade:          0,
                material:       "",
                value:          0,
                weight:         0,
            },
            "Bronze Short-Sword": {
                damage:         26,
                defense:        2,
                dexterity:      60,
                durability:     2,
                effect:         "No effect",
                grade:          1,
                material:       "Bronze",
                value:          250,
                weight:         18,
            },
            "Bronze Short-Sword+": {
                damage:         52,
                defense:        9,
                dexterity:      60,
                durability:     2,
                effect:         "No effect",
                grade:          2,
                material:       "Bronze",
                value:          300,
                weight:         18,
            },
            "Bronze Short-Sword++": {
                damage:         68,
                defense:        16,
                dexterity:      60,
                durability:     2,
                effect:         "No effect",
                grade:          3,
                material:       "Bronze",
                value:          350,
                weight:         18,
            },
            "Bronze Short-Sword+++": {
                damage:         104,
                defense:        22,
                dexterity:      60,
                durability:     2,
                effect:         "No effect",
                grade:          4,
                material:       "Bronze",
                value:          400,
                weight:         18,
            },
            "Wing-Cogium": {
                damage:         26,
                defense:        2,
                dexterity:      75,
                durability:     0,
                effect:         "Attacks deal 0 - 40 (5 | Power) magical on-hit damage.",
                grade:          0,
                material:       "Cogium",
                value:          0,
                weight:         0,
            },
        },
    };

    /////////////
    // GENERAL //
    /////////////

    const int = score => parseInt(score, 10) || 0;
    
    const float = score => parseFloat(score, 10) || 0;
    
    const get_name = (word) => {
        return word.split(":")[0];
    }

    const get_extra_percent = (number) => {
        return (100 + number) / 100;
    }

    const get_percent = (number) => {
        return number / 100;
    }

    const as_comma = (number) => {
        return (number % 1 === 0) ? number + ".0" : number;
    }

    /////////////
    // TOOLTIP //
    /////////////

    $20('.skill').on('mouseenter', (e) => {
        const skill = e.htmlAttributes.name.slice(5);
        getAttrs([skill], (v) => {
            if (v[skill] !== "") {
                setAttrs({
                    skill_sel: data.skills[v[skill]].name,
                    skill_sel_val: data.skills[v[skill]].value,
                });
                $20('.tooltip_skill').addClass('active');
                $20('.tooltip').addClass('active');
            }
        });
    });
    $20('.skill').on('mouseleave', (e) => {
        $20('.tooltip_skill').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    $20('.talent_name').on('mouseenter', (e) => {
        const tal = e.htmlAttributes.name.slice(5);
        getAttrs([tal], (v) => {
            if (v[tal] !== "na") {
                get_talent_info(v[tal]);
                $20('.tooltip_talent').addClass('active');
                $20('.tooltip').addClass('active');
            }
        });
    });
    $20('.talent_name').on('mouseleave', (e) => {
        $20('.tooltip_talent').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    $20('.hexagon').on('mouseenter', (e) => {
        const trait = e.htmlAttributes.title;
        const trait_key = trait.toLowerCase().replace(":", "_");
        let trait_talents = "";
        Object.keys(data.talents).forEach(tal => {
            const array = data.talents[tal].traits;
            if (array.includes(trait_key)) {
                trait_talents += data.talents[tal].name + "\n";
            }
        });
        setAttrs({
            trait_name: trait,
            trait_talents: trait_talents,
        });
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.hexagon').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    ///////////////////////
    // DARK & LIGHT MODE //
    ///////////////////////

    on('clicked:dark_light_button', async(event) => {
        getAttrs(["dark_light"], (values) => {
            const new_val = values["dark_light"] === "Dark" ? "Light" : "Dark";
            setAttrs({
                dark_light: new_val,
            });
        });
    });

    //////////
    // TABS //
    //////////

    $20('.header .tab-button').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab'];
        $20('div[data-tab]').removeClass('active');
        $20(`div[data-tab=${tab}]`).addClass('active');
    });

    ////////////////
    // XP & STUFF //
    ////////////////

    on('clicked:begin_session', async(event) => {
        getAttrs(["tp", "xp", "session_number", "level"], (values) => {
            const curr_tp = int(values["tp"]);
            const taxes = curr_tp >= 50 ? 5 : Math.floor(curr_tp/10);

            const new_tp = curr_tp + data.per_session["tp"] + taxes;
            const new_sn = int(values["session_number"]) + 1;
            setAttrs({
                tp: new_tp,
                session_number: new_sn
            });

            if (values["level"] < 5) {
                const new_xp = int(values["xp"]) + data.per_session["xp"];
                setAttrs({
                    xp: new_xp,
                });
            }
        });
    });

    on('clicked:buy_xp', async(event) => {
        getAttrs(["tp", "xp", "level"], (values) => {
            const curr_tp = int(values["tp"]);
            if (curr_tp >= 4 && values["level"] < 5) {
                const new_tp = curr_tp - 4;
                const new_xp = int(values["xp"]) + 4;
                setAttrs({
                    tp: new_tp,
                    xp: new_xp
                });
            }
        });
    });

    on('change:xp', async(event) => {
        getAttrs(["level", "xp", "needed_xp"], (values) => {
            const curr_xp = int(values["xp"]);
            const next_level = int(values["level"]) + 1;
            const xp_for_next_level = data.level_requirements[`${next_level}`];
            if (curr_xp >= xp_for_next_level) {
                level_up();
                const new_xp = curr_xp - xp_for_next_level;
                const new_needed_xp = data.level_requirements[`${next_level+1}`];
                setAttrs({
                    xp: new_xp,
                    needed_xp: new_needed_xp
                });
            }
        });
    });
    
    const level_up = () => {
        regenerate_health();
        getAttrs(["health", "max_health", "stamina", "stamina_base", "weapon_style_max", "resistance_max", "level"], (values) => {
            const new_health = int(values["health"]) + data.stats.health.per_level;
            const new_max_health = int(values["max_health"]) + data.stats.health.per_level;
            const new_stamina = int(values["stamina"]) + data.stats.stamina.per_level;
            const new_stamina_base = int(values["stamina_base"]) + data.stats.stamina.per_level;
            const new_res_max = int(values["resistance_max"]) + data.stats.resistance.max_per_level;
            const new_level = int(values["level"]) + 1;
            const ws_max = int(values["weapon_style_max"]);
            const new_ws_max = (ws_max < 12) ? ws_max+data.stats.weapon_style.max_per_level : 13; 
            setAttrs({
                health: new_health,
                max_health: new_max_health,
                stamina: new_stamina,
                stamina_base: new_stamina_base,
                weapon_style_max: new_ws_max,
                resistance_max: new_res_max,
                level: new_level
            });
        });
    }

    //////////////
    // NEXT DAY //
    //////////////

    on('clicked:next_day', (e) => {
        regenerate_health();
        getAttrs(["time_day", "time_month", "time_year"], (v) => {
            const new_day = int(v["time_day"]) % 30 + 1;
            let new_month = int(v["time_month"]);
            let new_year = int(v["time_year"]);
            if (new_day == 1) {
                new_month = new_month % 12 + 1;
                if (new_month == 1) {
                    new_year++;
                }
            }
            setAttrs({
                time_day: new_day,
                time_month: new_month,
                time_year: new_year,
                drink_counter: 0,
                food_1: "",
                food_2: "",
                food_3: "",
            });
        });
    });

    const regenerate_health = () => {
        getAttrs(["health_reg_percent", "health", "max_health"], (v) => {
            const curr_health = int(v["health"]);
            const max_health = int(v["max_health"]);
            const percent = int(v["health_reg_percent"]) / 100;

            if (curr_health === max_health) {
                return;
            }

            let new_health = int(max_health * percent + curr_health);

            if (new_health > max_health) {
                new_health = max_health;
            }

            setAttrs({
                health: new_health,
            });
        });
    }

    //////////
    // FOOD //
    //////////

//    on('change:food_1 change:food_2 change:food_3', (e) => {
//         const before = e.previousValue;
//         const after = e.newValue;
        
//         if (before === undefined || before === after) {
//             const change_attr = data.foods[after].category;
//             const is_plus = data.foods[after].plus;
//             const plus = data.foods[after].value;

//             getAttrs([change_attr], (v) => {
//                 const curr_value = float(v[change_attr]);
//                 const new_value = get_positive_value(curr_value, is_plus, plus);

//                 setAttrs({
//                     [change_attr]: new_value,
//                 });
//             });
//             return;
//         }

//         if (after === undefined) {
//             const change_attr = data.foods[before].category;
//             const is_plus = data.foods[before].plus;
//             const plus = data.foods[before].value;

//             getAttrs([change_attr], (v) => {
//                 const curr_value = float(v[change_attr]);
//                 const new_value = (before !== "meat_monster" && before !== "meat_human_pnaevaru") ? get_negative_value(curr_value, is_plus, plus) : curr_value;

//                 setAttrs({
//                     [change_attr]: new_value,
//                 });
//             });
//             return;
//         } 

//         const change_attr_first = data.foods[before].category;
//         const is_plus_first = data.foods[before].plus;
//         const plus_first = data.foods[before].value;

//         const change_attr_second = data.foods[after].category;
//         const is_plus_second = data.foods[after].plus;
//         const plus_second = data.foods[after].value;

//         getAttrs([change_attr_first, change_attr_second], (v) => {
//             const curr_value_first = float(v[change_attr_first]);
//             const new_value_first = (before !== "meat_monster" && before !== "meat_human_pnaevaru") ? get_negative_value(curr_value_first, is_plus_first, plus_first) : curr_value_first;
            
//             const curr_value_second = float(v[change_attr_second]);
//             const new_value_second = get_positive_value(curr_value_second, is_plus_second, plus_second);

//             setAttrs({
//                 [change_attr_first]: new_value_first,
//                 [change_attr_second]: new_value_second,
//             });
//         });
//     });

//     const get_positive_value = (curr_value, is_plus, plus) => {
//         return (is_plus) ? curr_value + plus : curr_value - plus;
//     }

//     const get_negative_value = (curr_value, is_plus, plus) => {
//         return (is_plus) ? curr_value - plus : curr_value + plus;
//     }

// TODO: The problem ist that when you select the same category with more than one select and reset everything using the next day button, it will only revert the effect of one select

    $20('.food_select').on('mouseenter', (e) => {
        const food = e.htmlAttributes.name.slice(5);

        getAttrs([food], (v) => {
            if (v[food] !== "") {
                const trait = v[food];
                const trait_talents = data.foods[v[food]].description;
                
                setAttrs({
                    trait_name: trait,
                    trait_talents: trait_talents,
                });
                
                $20('.tooltip_trait').addClass('active');
                $20('.tooltip').addClass('active');
            }
        });
    });
    $20('.food_select').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    ///////////
    // DRINK //
    ///////////

    on('clicked:drink_minus clicked:drink_plus', (e) => {
        const kind = e.triggerName.slice(14);
        getAttrs(["drink_counter"], (v) => {
            const curr_counter = int(v["drink_counter"]);
            let new_counter = curr_counter;
            if (kind == "minus" && curr_counter > 0) {
                new_counter--;
            } 
            else if (kind == "plus" && curr_counter < 13) {
                new_counter++;
            }
            setAttrs({
                drink_counter: new_counter,
            })
        });
    });

    ///////////
    // STATS //
    ///////////

    const max_stats = ["endurance", "strength", "power", "reflex", "physical_crit", "mental_crit", "social_crit"];
    max_stats.forEach(stat => {
        on(`clicked:buy_${stat}`, async(event) => {
            getAttrs([stat, `${stat}_count`, "ad"], (values) => {
                let possible = true;
                const curr_ad = int(values["ad"]);
                if (curr_ad <= 0) {
                    possible = false;
                } else if (int(values[`${stat}_count`]) >= data.stats[stat].max_ad) {
                    possible = false;
                } else {
                    const new_stat = int(values[stat]) + data.stats[stat].per_ad;
                    const new_count = int(values[`${stat}_count`]) + 1;
                    const new_ad = curr_ad - 1;
                    setAttrs({
                        [stat]: new_stat,
                        [`${stat}_count`]: new_count,
                        ad: new_ad
                    });
                }
            });
        });
    });

    on('clicked:buy_health', async(event) => {
        getAttrs(["health", "max_health", "health_count", "ad"], (values) => {
            let possible = true;
            const curr_ad = int(values["ad"]);
            if (curr_ad <= 0) {
                possible = false;
            } else if (int(values["health_count"]) >= data.stats.health.max_ad) {
                possible = false;
            } else {
                const new_health = int(values["health"]) + data.stats["health"].per_ad;
                const new_max_health = int(values["max_health"]) + data.stats["health"].per_ad;
                const new_count = int(values["health_count"]) + 1;
                const new_ad = curr_ad - 1;
                setAttrs({
                    health: new_health,
                    max_health: new_max_health,
                    health_count: new_count,
                    ad: new_ad
                });
            }
        });
    });

    on('clicked:buy_weapon_style', async(event) => {
        getAttrs(["weapon_style", "weapon_style_count", "weapon_style_max", "ad"], (values) => {
            let possible = true;
            const curr_ad = int(values["ad"]);
            if (curr_ad <= 0) {
                possible = false;
            } else if (int(values["weapon_style_count"]) >= int(values["weapon_style_max"])) {
                possible = false;
            } else {
                const new_ws = int(values["weapon_style"]) + data.stats.weapon_style.per_ad;
                const new_count = int(values["weapon_style_count"]) + 1;
                const new_ad = curr_ad - 1;
                setAttrs({
                    weapon_style: new_ws,
                    weapon_style_count: new_count,
                    ad: new_ad
                });
            }
        });
    });

    on('clicked:buy_resistance', async(event) => {
        getAttrs(["resistance", "resistance_count", "resistance_max", "resistance_plus", "ad"], (values) => {
            let possible = true;
            const curr_ad = int(values["ad"]);
            if (curr_ad <= 0) {
                possible = false;
            } else if (int(values["resistance_count"]) >= int(values["resistance_max"])) {
                possible = false;
            } else {
                const new_count = int(values["resistance_count"]) + 1;
                const new_ad = curr_ad - 1;
                let new_res = int(values["resistance"]);
                let new_plus = data.stats.resistance.per_ad[0];
                if (new_count < 5) {
                    new_res = new_res + data.stats.resistance.per_ad[new_count-1];
                    new_plus = data.stats.resistance.per_ad[new_count];
                } else {
                    new_res = new_res + data.stats.resistance.per_ad[4];
                    new_plus = data.stats.resistance.per_ad[4];
                }
                setAttrs({
                    resistance_count: new_count,
                    ad: new_ad,
                    resistance: new_res,
                    resistance_plus: new_plus
                });
            }
        });
    });

    const stat_boni = ["speed", "attack_speed", "strength", "power", "weapon_style", "reflex", "resistance"];
    stat_boni.forEach(stat => {
        on(`change:${stat}_bonus`, (e) => {
            getAttrs([stat], (values) => {
                let diff = int(e.newValue) - int(e.previousValue);
                if (diff === 0) {
                    diff = int(e.newValue);
                }
                const new_stat = int(values[stat]) + diff;
                setAttrs({
                    [stat]: new_stat
                });
            });
        });
    });
    
    on('change:stamina_base change:stamina_bonus', (e) => {
        getAttrs(["stamina", "stamina_base", "stamina_bonus"], (values) => {
            const new_stamina = int(values["stamina_base"]) + int(values["stamina_bonus"]);
            setAttrs({
                stamina: new_stamina
            });
        });
    });
    
    on('change:feet_base change:feet_bonus', (e) => {
        getAttrs(["feet", "feet_base", "feet_bonus"], (v) => {
            const new_feet = int(v["feet_base"]) + int(v["feet_bonus"]);
            setAttrs({
                feet: new_feet
            });
        });
    });

    on('change:w_dexterity', (e) => {
        getAttrs(["w_dexterity"], (v) => {
            const new_hands_base = int(v["w_dexterity"]);
            setAttrs({
                hands_base: new_hands_base
            });
        });
    });
    
    on('change:hands_base change:hands_bonus', (e) => {
        getAttrs(["hands_base", "hands_bonus"], (v) => {
            const new_hands = float(v["hands_base"]) * get_extra_percent(float(v["hands_bonus"]));
            setAttrs({
                hands: new_hands
            });
        });
    });

    $20('.block_tab-button').on('click', (e) => {
        const tab = e.htmlAttributes['data-block_tab'];
        $20('div[data-block_tab]').removeClass('active');
        $20(`div[data-block_tab=${tab}]`).addClass('active');
    });

    $20('.tab_button_defense').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_defense'];
        $20('div[data-tab_defense]').removeClass('active');
        $20(`div[data-tab_defense=${tab}]`).addClass('active');
    });

    ////////////
    // SKILLS //
    ////////////

    const skill_list = ["p_s1", "p_s2", "p_s3",
                        "m_s1", "m_s2", "m_s3",
                        "s_s1", "s_s2", "s_s3",
                        "w_s1", "w_s2", "w_s3",
                        "w_elemental"];
    for (const skill of skill_list) {
        on(`clicked:show_${skill}`, (e) => {
            const flag = `${skill}_flag`;
            getAttrs([flag], (v) => {
                setAttrs({
                    [flag]: v[flag] !== "1" ? "1" : "0"
                });
            });
        });
        
        on(`change:${skill}`, (e) => {
            const kind = e.triggerName.slice(0,1);
            getAttrs([`${kind}_s1`, `${kind}_s2`, `${kind}_s3`], (values) => {
                const s1 = values[`${kind}_s1`];
                const s2 = values[`${kind}_s2`];
                const s3 = values[`${kind}_s3`];
                const s1_type = (s1 === "") ? "na" : data.skills[s1].type;
                const s2_type = (s2 === "") ? "na" : data.skills[s2].type;
                const s3_type = (s3 === "") ? "na" : data.skills[s3].type;
                if (s1_type === "base" && s2_type === "base") {
                    setAttrs({
                        [`${kind}_s1`]: data.skills[s1].combine[s2],
                        [`${kind}_s2`]: ""
                    });
                } else if  (s2_type === "base" && s3_type === "base") {
                    setAttrs({
                        [`${kind}_s2`]: data.skills[s2].combine[s3],
                        [`${kind}_s3`]: ""
                    });
                } else if  (s1_type === "base" && s3_type === "base") {
                    setAttrs({
                        [`${kind}_s1`]: data.skills[s1].combine[s3],
                        [`${kind}_s3`]: ""
                    });
                }
            });
        });
    }
    
    //////////////////
    // YOUR TALENTS //
    //////////////////
    
    $20('.talent_header .talent_tab-button').on('click', (e) => {
        const tab = e.htmlAttributes['data-talent_tab'];
        $20('div[data-talent_tab]').removeClass('active');
        $20(`div[data-talent_tab=${tab}]`).addClass('active');
    });

    const talent_category = ["physical", "mental", "social"];
    talent_category.forEach(category => {
        on(`clicked:buy_${category}`, async(event) => {
            getAttrs([category, `${category}_count`, "ad"], (values) => {
                let possible = true;
                const curr_ad = int(values["ad"]);
                if (curr_ad <= 0) {
                    possible = false;
                } else if (int(values[`${category}_count`]) >= data.stats[category].max_ad) {
                    possible = false;
                } else {
                    const new_category = float(values[category]) + data.stats[category].per_ad;
                    const new_count = int(values[`${category}_count`]) + 1;
                    const new_ad = curr_ad - 1;
                    setAttrs({
                        [category]: new_category,
                        [`${category}_count`]: new_count,
                        ad: new_ad
                    });
                }
            });
        });
    });

    const update_talent_list = () => {
        getAttrs(["p1", "p2", "p3", "p4", "p5", "m1", "m2", "m3", "m4", "m5", "s1", "s2", "s3", "s4", "s5"], (v) => {
            let curr_talents = [];
            Object.values(v).forEach(val => {
                if (val !== "na") {
                    curr_talents.push(val);
                }
            });
            curr_talents = [...new Set(curr_talents)];
            setAttrs({
                talent_list: curr_talents,
            });
        });
    }

    const names = [ "p1", "p2", "p3", "p4", "p5",
                    "m1", "m2", "m3", "m4", "m5",
                    "s1", "s2", "s3", "s4", "s5"];
    names.forEach(name => {
        on(`change:${name}`, (e) => {
            getAttrs([name, `${name}_level`, "tp"], values => {
                const name_base = values[name];
                const rank = data.talents[name_base].rank;
                setAttrs({
                    [`${name}_rank`]: rank,
                });
                if (e.previousValue === e.newValue) {
                    setAttrs({
                        [`${name}_level`]: 0,
                    });
                } else {
                    const prev_rank = data.talents[e.previousValue].rank;
                    const rank_diff = prev_rank - rank;
                    cost = rank_diff * int(values[`${name}_level`]);
                    const new_tp = int(values["tp"]) + cost;

                    setAttrs({
                        tp: new_tp
                    });
                };
                update_talent_list();
            });
        });

        on(`change:${name}_level`, (e) => {
            const previous_value = int(e.previousValue);
            const value = int(e.newValue);
            const diff = value - previous_value;
            getAttrs(["tp", `${name}_rank`, `${name}_level`], (values) => {
                const cost = int(values[`${name}_rank`]) * diff;
                const new_tp = int(values["tp"]) - cost;
    
                setAttrs({
                    tp: new_tp
                });
            });
        });
    });

    /////////////////
    // ALL TALENTS //
    /////////////////

    const get_talent_info = (tal) => {
        const new_name = data.talents[tal].name;
        const new_base_short = data.talents[tal].base_short;
        const new_base_short_text = data.base_shorts[get_name(new_base_short)];
        const new_green1 = data.talents[tal].green1;
        const new_green2 = data.talents[tal].green2;
        const new_green_text1 = data.green_words[get_name(new_green1)];
        const new_green_text2 = data.green_words[get_name(new_green2)];
        const new_orange = data.talents[tal].orange[0];
        const new_orange_text = (data.talents[tal].orange.length === 1) ? "none" : data.talents[tal].orange[1];
        const new_rank = data.talents[tal].rank;
        const new_red = data.talents[tal].red[0];
        const new_red_text = (new_red == "none") ? "none" : data.talents[tal].red[1];
        let new_traits = "";
        for (const trait of data.talents[tal].traits) {
            new_traits += data.traits[trait].name + " "
        }

        setAttrs({
            tal_sel: new_name,
            tal_sel_base_short: new_base_short,
            tal_sel_base_short_text: new_base_short_text,
            tal_sel_green1: new_green1,
            tal_sel_green2: new_green2,
            tal_sel_green_text1: new_green_text1,
            tal_sel_green_text2: new_green_text2,
            tal_sel_orange: new_orange,
            tal_sel_orange_text: new_orange_text,
            tal_sel_rank: new_rank,
            tal_sel_red: new_red,
            tal_sel_red_text: new_red_text,
            tal_sel_traits: new_traits,
        });
    }

    Object.keys(data.talents).forEach(tal => {
        on(`clicked:${tal}`, async(event) => {
            get_talent_info(tal);
        });
    });

    ////////////
    // TRAITS //
    ////////////

    const update_trait_lists = () => {
        getAttrs(["talent_list", "bonus_trait_1", "bonus_trait_2", "bonus_trait_3"], (v) => {
            for (const trait of Object.keys(data.traits)) {
                data.traits[trait].count = 0;
            };
            for (const talent of v["talent_list"]) {
                for (const trait of data.talents[talent].traits) {
                    data.traits[trait].count++;
                };
            };
            if (v["bonus_trait_1"] != "na") {
                data.traits[v["bonus_trait_1"]].count++;
            }
            if (v["bonus_trait_2"] != "na") {
                data.traits[v["bonus_trait_2"]].count++;
            }
            if (v["bonus_trait_3"] != "na") {
                data.traits[v["bonus_trait_3"]].count++;
            }
            let new_finished_trait_list = [];
            let new_unfinished_trait_list = [];
            for (const trait of Object.keys(data.traits)) {
                if (data.traits[trait].count >= data.traits[trait].steps[0]) {
                    new_finished_trait_list.push(trait);
                } else if (data.traits[trait].count > 0 && data.traits[trait].count < data.traits[trait].steps[0]) {
                    new_unfinished_trait_list.push(trait);
                }
            };
            setAttrs({
                finished_trait_list: new_finished_trait_list,
                unfinished_trait_list: new_unfinished_trait_list,
            });
            update_trait_area();
        });
    }

    function findIndex(array, number) {
        let index = -1;
        for (let i = 0; i < array.length; i++) {
            if (array[i] <= number) {
                index = i;
            }
        }
        return index;
    }

    const update_trait_area = () => {
        for (const trait of Object.keys(data.traits)) {
            $20(`.t_${trait}`).removeClass('active');
            $20(`.t_${trait}_unfinished`).removeClass('active_flex');
        }
        getAttrs(["finished_trait_list", "unfinished_trait_list"], (v) => {
            for (const trait of v["finished_trait_list"]) {
                $20(`.t_${trait}`).addClass('active');
                if (trait == "race_pnaevaru") {
                    $20('.t_race_human').removeClass('active');
                }
                const curr_step = findIndex(data.traits[trait].steps, data.traits[trait].count);
                const next_step = (curr_step === data.traits[trait].steps.length-1) ? data.traits[trait].steps[curr_step] : data.traits[trait].steps[curr_step+1];
                setAttrs({
                    [`t_${trait}`]: data.traits[trait].count,
                    [`t_${trait}_next`]: next_step,
                });
            };
            for (const trait of v["unfinished_trait_list"]) {
                $20(`.t_${trait}_unfinished`).addClass('active_flex');
                const curr_step = findIndex(data.traits[trait].steps, data.traits[trait].count);
                const next_step = (curr_step === data.traits[trait].steps.length-1) ? data.traits[trait].steps[curr_step] : data.traits[trait].steps[curr_step+1];
                setAttrs({
                    [`t_${trait}`]: data.traits[trait].count,
                    [`t_${trait}_next`]: next_step,
                });
            }
        });
    }

    on('sheet:opened change:talent_list change:bonus_trait_1 change:bonus_trait_2 change:bonus_trait_3', (e) => {
        update_trait_lists();
    });

    ////////////
    // WEAPON //
    ////////////

    $20('.weapon_tab_button').on('click', (e) => {
        const tab = e.htmlAttributes['data-weapon_tab'];
        $20('div[data-weapon_tab]').removeClass('active');
        $20(`div[data-weapon_tab=${tab}]`).addClass('active');
    });

    on('change:weapon_name', (e) => {
        const weapon_name = e.newValue;
        if (weapon_name in data.weapons) {

            getAttrs(["strength"], (v) => {

                const new_damage = (weapon_name === "Fist") ? float(v["strength"]) * 0.8 : data.weapons[weapon_name].damage;
                
                setAttrs({
                    w_damage: new_damage,
                    w_defense: data.weapons[weapon_name].defense,
                    w_dexterity: data.weapons[weapon_name].dexterity,
                    w_durability: data.weapons[weapon_name].durability,
                    w_effect: data.weapons[weapon_name].effect,
                    w_grade: data.weapons[weapon_name].grade,
                    w_material: data.weapons[weapon_name].material,
                    w_value: data.weapons[weapon_name].value,
                    w_weight: data.weapons[weapon_name].weight,
                });
            });
        }
    });

    $20('.attack_button').on('mouseenter', (e) => {
        getAttrs(["w_damage", "weapon_style", "hands"], (v) => {

            const weapon_damage = v["w_damage"];
            const style = as_comma(get_percent(float(v["weapon_style"])));
            const hands = as_comma(get_percent(float(v["hands"])));
            const result = float(v["w_damage"])*get_percent(float(v["weapon_style"]))*get_percent(float(v["hands"]));

            const formula_no_values = "Weapon damage * Style * Hands \n = Damage";
            const formula_values = `${weapon_damage} * ${style} * ${hands} \n = ${result}`;

            const trait = "Damage";
            const trait_talents = formula_no_values + "\n\n" + formula_values;

            setAttrs({
                trait_name: trait,
                trait_talents: trait_talents,
            });
        })
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.attack_button').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    ///////////
    // ARMOR //
    ///////////

    const armor_class = ["it_head_physical", "it_shoulders_physical", "it_torso_physical", "it_arms_physical", "it_legs_physical", "it_feet_physical"];
    for (const armor of armor_class) {
        on(`change:${armor} change:armorClassBonus`, (e) => {
            getAttrs([...armor_class, "armorClassBonus"], (v) => {
                let sum = 0;
                for (const key of Object.keys(v)) {
                    sum += int(v[key]);
                }
                setAttrs({
                    armor_class: sum,
                });
            });
        });
    }

    const magical_armor_parts = ["it_head_magical", "it_shoulders_magical", "it_torso_magical", "it_arms_magical", "it_legs_magical", "it_feet_magical"];
    for (const armor of magical_armor_parts) {
        on(`change:${armor} change:magicClassBonus`, (e) => {
            getAttrs([...magical_armor_parts, "magicClassBonus"], (v) => {
                let sum = 0;
                for (const key of Object.keys(v)) {
                    sum += int(v[key]);
                }
                setAttrs({
                    magic_class: sum,
                });
            });
        });
    }

    on('change:strength change:armor_class change:w_defense', (e) => {
        getAttrs(["strength", "armor_class", "w_defense"], (v) => {
            const new_block_physical = int(v["strength"]) + int(v["armor_class"]) + int(v["w_defense"]);
            
            setAttrs({
                block_physical: new_block_physical,
            })
        });
    });

    on('change:strength change:resistance change:magic_class change:w_defense', (e) => {
        getAttrs(["strength", "resistance", "magic_class", "w_defense"], (v) => {
            const new_block_magical = int(v["strength"]) * get_percent(int(v["resistance"])) + int(v["magic_class"]) + int(v["w_defense"]);
            
            setAttrs({
                block_magical: new_block_magical,
            })
        });
    });

    on('change:reflex change:armor_class', (e) => {
        getAttrs(["reflex", "armor_class"], (v) => {
            const new_dodge_physical = int(v["reflex"]) + int(v["armor_class"]);
            
            setAttrs({
                dodge_physical: new_dodge_physical,
            })
        });
    });

    on('change:strength change:resistance change:magic_class', (e) => {
        getAttrs(["strength", "resistance", "magic_class"], (v) => {
            const new_dodge_magical = int(v["strength"]) * get_percent(int(v["resistance"])) + int(v["magic_class"]);
            
            setAttrs({
                dodge_magical: new_dodge_magical,
            })
        });
    });

    $20('.block_physical').on('mouseenter', (e) => {
        getAttrs(["strength", "armor_class", "w_defense", "block_physical"], (v) => {

            const formula_no_values = "Strength + Armor class + Weapon defense \n = Physical Block";
            const formula_values = v["strength"] + " + " + v["armor_class"] + " + " + v["w_defense"] + "\n = " + v["block_physical"];

            const trait = "Physical Block";
            const trait_talents = formula_no_values + "\n\n" + formula_values;

            setAttrs({
                trait_name: trait,
                trait_talents: trait_talents,
            });
        })
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.block_physical').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    $20('.block_magical').on('mouseenter', (e) => {
        getAttrs(["strength", "resistance", "magic_class", "w_defense", "block_magical"], (v) => {

            const formula_no_values = "Strength * Resistance + Magic Class + Weapon Defense \n = Magical Block";
            const formula_values = v["strength"] + " * " + as_comma(get_percent(int(v["resistance"]))) + " + " + v["magic_class"] + " + " + v["w_defense"] + "\n = " + v["block_magical"];

            const trait = "Magical Block";
            const trait_talents = formula_no_values + "\n\n" + formula_values;

            setAttrs({
                trait_name: trait,
                trait_talents: trait_talents,
            });
        })
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.block_magical').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    $20('.dodge_physical').on('mouseenter', (e) => {
        getAttrs(["reflex", "armor_class", "dodge_physical"], (v) => {

            const formula_no_values = "Reflex + Armor class \n = Physical Dodge";
            const formula_values = v["reflex"] + " + " + v["armor_class"] + "\n = " + v["dodge_physical"];

            const trait = "Physical Dodge";
            const trait_talents = formula_no_values + "\n\n" + formula_values;

            setAttrs({
                trait_name: trait,
                trait_talents: trait_talents,
            });
        })
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.dodge_physical').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    $20('.dodge_magical').on('mouseenter', (e) => {
        getAttrs(["reflex", "resistance", "magic_class", "dodge_magical"], (v) => {

            const formula_no_values = "Reflex * Resistance + Magic class \n = Magical Dodge";
            const formula_values = v["reflex"] + " * " + as_comma(get_percent(int(v["resistance"]))) + " + " + v["magic_class"] + "\n = " + v["dodge_magical"];

            const trait = "Magical Dodge";
            const trait_talents = formula_no_values + "\n\n" + formula_values;

            setAttrs({
                trait_name: trait,
                trait_talents: trait_talents,
            });
        })
        $20('.tooltip_trait').addClass('active');
        $20('.tooltip').addClass('active');
    });
    $20('.dodge_magical').on('mouseleave', (e) => {
        $20('.tooltip_trait').removeClass('active');
        $20('.tooltip').removeClass('active');
    });

    ///////////////
    // INVENTORY //
    ///////////////

    $20('.inventory_tab_button').on('click', (e) => {
        const tab = e.htmlAttributes['data-inventory_tab'];
        $20('div[data-inventory_tab]').removeClass('active');
        $20(`div[data-inventory_tab=${tab}]`).addClass('active');
    });

    //////////////
    // KEYWORDS //
    //////////////

    $20('.tab_button_keywords').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_keywords'];
        $20('div[data-tab_keywords]').removeClass('active');
        $20(`div[data-tab_keywords=${tab}]`).addClass('active');
    });
    
    $20('.tab_button_commands').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_commands'];
        $20('div[data-tab_commands]').removeClass('active');
        $20(`div[data-tab_commands=${tab}]`).addClass('active');
    });
    
    $20('.tab_button_rhetorics').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_rhetorics'];
        $20('div[data-tab_rhetorics]').removeClass('active');
        $20(`div[data-tab_rhetorics=${tab}]`).addClass('active');
    });

    on('clicked:show_keywords', (e) => {
        getAttrs(["keywords_flag"], (v) => {
            const new_value = (v["keywords_flag"] == "●") ? "○" : "●";
            setAttrs({
                keywords_flag: new_value,
            });
        });
    });

    on('clicked:show_commands', (e) => {
        getAttrs(["commands_flag"], (v) => {
            const new_value = (v["commands_flag"] == "●") ? "○" : "●";
            setAttrs({
                commands_flag: new_value,
            });
        });
    });

    on('clicked:show_rhetorics', (e) => {
        getAttrs(["rhetorics_flag"], (v) => {
            const new_value = (v["rhetorics_flag"] == "●") ? "○" : "●";
            setAttrs({
                rhetorics_flag: new_value,
            });
        });
    });

    const keyword_pools = ["combat", "loot", "magic", "presence", "swimDive", "weapon", "traitExpert"];
    const command_pools = ["animal", "person"];
    const rhetoric_pools = ["humor", "music", "persuade", "manipulation"];

    for (const pool of keyword_pools) {
        on(`clicked:show_kp_${pool}`, (e) => {
            const name = "kp_" + e.htmlAttributes.name.slice(12) + "_flag";
            getAttrs([name], (v) => {
                const new_value = (v[name] == "✓") ? "" : "✓";
                setAttrs({
                    [name]: new_value,
                });
            });
        });

        on(`clicked:${pool}DescriptionShow`, (e) => {
            getAttrs([`${pool}DescriptionFlag`], (v) => {
                const newValue = (v[`${pool}DescriptionFlag`] == "▲") ? "▼" : "▲";
                setAttrs({
                    [`${pool}DescriptionFlag`]: newValue,
                });
            });
        });
    }
    on(`clicked:otherDescriptionShow`, (e) => {
        getAttrs([`otherDescriptionFlag`], (v) => {
            const newValue = (v[`otherDescriptionFlag`] == "▲") ? "▼" : "▲";
            setAttrs({
                [`otherDescriptionFlag`]: newValue,
            });
        });
    });

    for (const pool of command_pools) {
        on(`clicked:show_cp_${pool}`, (e) => {
            const name = "cp_" + e.htmlAttributes.name.slice(12) + "_flag";
            getAttrs([name], (v) => {
                const new_value = (v[name] == "✓") ? "" : "✓";
                setAttrs({
                    [name]: new_value,
                });
            });
        });

        on(`clicked:${pool}DescriptionShow`, (e) => {
            getAttrs([`${pool}DescriptionFlag`], (v) => {
                const newValue = (v[`${pool}DescriptionFlag`] == "▲") ? "▼" : "▲";
                setAttrs({
                    [`${pool}DescriptionFlag`]: newValue,
                });
            });
        });
    }
    
    for (const pool of rhetoric_pools) {
        on(`clicked:show_rp_${pool}`, (e) => {
            const name = "rp_" + e.htmlAttributes.name.slice(12) + "_flag";
            getAttrs([name], (v) => {
                const new_value = (v[name] == "✓") ? "" : "✓";
                setAttrs({
                    [name]: new_value,
                });
            });
        });

        on(`clicked:${pool}DescriptionShow`, (e) => {
            getAttrs([`${pool}DescriptionFlag`], (v) => {
                const newValue = (v[`${pool}DescriptionFlag`] == "▲") ? "▼" : "▲";
                setAttrs({
                    [`${pool}DescriptionFlag`]: newValue,
                });
            });
        });
    }

    //////////////////
    // COLOR CHANGE //
    //////////////////

/*  THIS WORKS BUT I DO NOT LIKE IT
    on('change:textInput sheet:opened', (e) => {
        getAttrs(["textInput", "text1", "text2", "text3", "text4", "text5", "text6"], (v) => {
            const currInput = v["textInput"];
            const splitArray = splitStringWithBrackets(currInput);

            const newText = ['', '', '', '', '', ''];

            for (let i = 0; i < splitArray.length; i++) {
            newText[i] = splitArray[i].text;

            if (splitArray[i].brackets) {
                $20(`.text${i + 1}`).removeClass('textColorNormal').addClass('textColorBlue');
            } else {
                $20(`.text${i + 1}`).removeClass('textColorBlue').addClass('textColorNormal');
            }
            }

            setAttrs({
                text1: newText[0],
                text2: newText[1],
                text3: newText[2],
                text4: newText[3],
                text5: newText[4],
                text6: newText[5],
            });
        });
    });

    const splitStringWithBrackets = (input) => {
        const regex = /\[(.*?)\]/g;
        let match;
        let lastIndex = 0;
        const result = [];

        while ((match = regex.exec(input)) !== null) {
            const textBefore = input.substring(lastIndex, match.index);
            const textInside = match[1];

            if (textBefore) {
            result.push({ text: textBefore, brackets: false });
            }

            result.push({ text: textInside, brackets: true });

            lastIndex = regex.lastIndex;
        }

        const textAfter = input.substring(lastIndex);
        if (textAfter) {
            result.push({ text: textAfter, brackets: false });
        }

        return result;
    }
*/

    ////////////////////
    // CHARACTER RANK //
    ////////////////////

    on('change:characterRank', (e) => {
        getAttrs(["characterRank"], (v) => {
            let newValue = 0;
            const selectedRank = v["characterRank"];
            if (selectedRank != "Rank") {
                const split = selectedRank.split("|");
                const group = split[1].trim();
                const item = split[0].trim();
                newValue = data.rank[group][item].rank;
            }
            setAttrs({
                rankNumber: newValue,
            });
        });
    })

    ////////////
    // AGENDA //
    ////////////

    $20('.tab_button_agenda').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_agenda'];
        $20('div[data-tab_agenda]').removeClass('active');
        $20(`div[data-tab_agenda=${tab}]`).addClass('active');
    }); 
    
    ///////////////////
    // RELATIONSHIPS //
    ///////////////////
    
    const relationshipLetters = ["E", "D", "C", "B", "A", "S"];
    
    for (const letter of relationshipLetters) {
        on(`clicked:relationship${letter}`, (e) => {
            setAttrs({
                relationshipLetter: letter,
            });
        });
    }

    on('change:relationshipLetter sheet:opened', (e) => {
        for (const letter of relationshipLetters) {
            $20(`.relationship${letter}`).removeClass('relationshipBorder');
        }
        getAttrs(["relationshipLetter"], (v) => {
            const letter = v["relationshipLetter"];
            $20(`.relationship${letter}`).addClass('relationshipBorder');
        });
    });
</script> 

<!-- 
    <div>
        <div class="new_tab_buttons">
            <div class="tab_button_TOPIC active"  data-tab_TOPIC="TAB_NAME_1"> TAB_NAME_1 </div>
            <div class="tab_button_TOPIC"         data-tab_TOPIC="TAB_NAME_2"> TAB_NAME_2 </div>
            ...
        </div>
        <div class="new_tab_content">
            <div class="new_tab_container tab_container_TOPIC active" data-tab_TOPIC="TAB_NAME_1">
                ...
            </div>
            <div class="new_tab_container tab_container_TOPIC" data-tab_TOPIC="TAB_NAME_2">
                ...
            </div>
            ...
        </div>
    </div> 

    $20('.tab_button_TOPIC').on('click', (e) => {
        const tab = e.htmlAttributes['data-tab_TOPIC'];
        $20('div[data-tab_TOPIC]').removeClass('active');
        $20(`div[data-tab_TOPIC=${tab}]`).addClass('active');
    }); 
-->

<!-- <div>
    <fieldset class="repeating_IndividualNameWithoutUnderscores">
        <input name="attr_individual_name" placeholder="" type="text" />
        <textarea name="attr_individual_description" placeholder=""></textarea>
        ...
    </fieldset>
</div> -->